{"version":3,"file":"requireFirebaseEnv.js","sources":["src/middleware/requireFirebaseEnv.ts"],"sourceRoot":"/","sourcesContent":["import type { Request, Response, NextFunction } from \"express\";\r\n\r\nexport function requireFirebaseEnv(\r\n  req: Request,\r\n  res: Response,\r\n  next: NextFunction\r\n) {\r\n  const requiredEnvVars = [\r\n    \"FIREBASE_SERVICE_JSON_PROJECT_ID\",\r\n    \"FIREBASE_SERVICE_JSON_CLIENT_EMAIL\",\r\n    \"FIREBASE_SERVICE_JSON_PRIVATE_KEY\",\r\n  ];\r\n  const missingVars = requiredEnvVars.filter(\r\n    (varName) => !process.env[varName]\r\n  );\r\n  if (missingVars.length > 0) {\r\n    console.warn(\r\n      \"[send-notification] ⚠️ Firebase not configured properly. Missing:\",\r\n      missingVars\r\n    );\r\n    return res.status(200).json({\r\n      success: false,\r\n      error: \"Firebase notification service not configured\",\r\n      details: `Missing environment variables: ${missingVars.join(\", \")}`,\r\n    });\r\n  }\r\n  next();\r\n}\r\n"],"names":[],"mappings":";;AAEA,MAAM,UAAU,kBAAkB,CAChC,GAAY,EACZ,GAAa,EACb,IAAkB;IAElB,MAAM,eAAe,GAAG;QACtB,kCAAkC;QAClC,oCAAoC;QACpC,mCAAmC;KACpC,CAAC;IACF,MAAM,WAAW,GAAG,eAAe,CAAC,MAAM,CACxC,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CACnC,CAAC;IACF,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QAC3B,OAAO,CAAC,IAAI,CACV,mEAAmE,EACnE,WAAW,CACZ,CAAC;QACF,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,OAAO,EAAE,KAAK;YACd,KAAK,EAAE,8CAA8C;YACrD,OAAO,EAAE,kCAAkC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;SACpE,CAAC,CAAC;IACL,CAAC;IACD,IAAI,EAAE,CAAC;AACT,CAAC","debug_id":"6fd7dad8-4716-5a19-9487-21f3dddf4638"}