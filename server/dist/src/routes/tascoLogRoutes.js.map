{"version":3,"file":"tascoLogRoutes.js","sources":["src/routes/tascoLogRoutes.ts"],"sourceRoot":"/","sourcesContent":["import { Router } from \"express\";\r\nimport {\r\n  getTascoLogController,\r\n  getTascoLogsByTimesheetController,\r\n  updateLoadQuantityController,\r\n  updateTascoCommentController,\r\n  createRefuelLogController,\r\n  getRefuelLogsController,\r\n  updateRefuelLogController,\r\n  deleteRefuelLogController,\r\n  createFLoadController,\r\n  getFLoadsController,\r\n  updateFLoadController,\r\n  deleteFLoadController,\r\n  getCompleteTascoLogController,\r\n  deleteTascoLogController,\r\n  getTascoLogFieldController,\r\n  getActiveTascoLogController,\r\n} from \"../controllers/tascoLogController.js\";\r\n\r\nconst router = Router();\r\n\r\n/**\r\n * Tasco Log Routes\r\n * Base: /api/v1/tasco-logs\r\n *\r\n * IMPORTANT: Route order matters! More specific routes must come before generic :id routes\r\n */\r\n\r\n// ============================================================================\r\n// SPECIAL ROUTES - MUST COME FIRST\r\n// ============================================================================\r\n\r\n/**\r\n * GET /api/v1/tasco-logs/user/:userId/active\r\n * Get the active Tasco Log for a user\r\n */\r\nrouter.get(\"/user/:userId/active\", getActiveTascoLogController);\r\n\r\n/**\r\n * GET /api/v1/tasco-logs/timesheet/:timesheetId\r\n * Get all Tasco Logs for a timesheet\r\n */\r\nrouter.get(\"/timesheet/:timesheetId\", getTascoLogsByTimesheetController);\r\n\r\n// ============================================================================\r\n// ROUTES WITH PATH EXTENSIONS - MUST COME BEFORE GENERIC :id\r\n// ============================================================================\r\n\r\n/**\r\n * GET /api/v1/tasco-logs/:id/field/:field\r\n * Get specific field data for a Tasco Log\r\n * Supported fields: comment, loadCount, refuelLogs, fLoads\r\n */\r\nrouter.get(\"/:id/field/:field\", getTascoLogFieldController);\r\n\r\n/**\r\n * GET /api/v1/tasco-logs/:id/complete\r\n * Get complete Tasco Log data with all relations\r\n */\r\nrouter.get(\"/:id/complete\", getCompleteTascoLogController);\r\n\r\n/**\r\n * PUT /api/v1/tasco-logs/:id/load-quantity\r\n * Update Tasco Log load quantity\r\n */\r\nrouter.put(\"/:id/load-quantity\", updateLoadQuantityController);\r\n\r\n/**\r\n * PUT /api/v1/tasco-logs/:id/comment\r\n * Update Tasco Log comment\r\n */\r\nrouter.put(\"/:id/comment\", updateTascoCommentController);\r\n\r\n/**\r\n * GET /api/v1/tasco-logs/:id/refuel-logs\r\n * Get all Refuel Logs for a Tasco Log\r\n */\r\nrouter.get(\"/:id/refuel-logs\", getRefuelLogsController);\r\n\r\n/**\r\n * POST /api/v1/tasco-logs/:id/refuel-logs\r\n * Create a new Refuel Log\r\n */\r\nrouter.post(\"/:id/refuel-logs\", createRefuelLogController);\r\n\r\n/**\r\n * GET /api/v1/tasco-logs/:id/f-loads\r\n * Get all F-Loads for a Tasco Log\r\n */\r\nrouter.get(\"/:id/f-loads\", getFLoadsController);\r\n\r\n/**\r\n * POST /api/v1/tasco-logs/:id/f-loads\r\n * Create a new TascoFLoad\r\n */\r\nrouter.post(\"/:id/f-loads\", createFLoadController);\r\n\r\n// ============================================================================\r\n// TASCO LOG ENDPOINTS - GENERIC :id (MUST COME LAST)\r\n// ============================================================================\r\n\r\n/**\r\n * GET /api/v1/tasco-logs/:id\r\n * Get a single Tasco Log by ID\r\n */\r\nrouter.get(\"/:id\", getTascoLogController);\r\n\r\n/**\r\n * DELETE /api/v1/tasco-logs/:id\r\n * Delete a Tasco Log (cascades to all related records)\r\n */\r\nrouter.delete(\"/:id\", deleteTascoLogController);\r\n\r\n// ============================================================================\r\n// REFUEL LOG ENDPOINTS (nested under :id handled above)\r\n// ============================================================================\r\n\r\n/**\r\n * PUT /api/v1/tasco-logs/refuel-logs/:refuelLogId\r\n * Update a Refuel Log\r\n */\r\nrouter.put(\"/refuel-logs/:refuelLogId\", updateRefuelLogController);\r\n\r\n/**\r\n * DELETE /api/v1/tasco-logs/refuel-logs/:refuelLogId\r\n * Delete a Refuel Log\r\n */\r\nrouter.delete(\"/refuel-logs/:refuelLogId\", deleteRefuelLogController);\r\n\r\n// ============================================================================\r\n// TASCO F-LOADS ENDPOINTS (nested under :id handled above)\r\n// ============================================================================\r\n\r\n/**\r\n * PUT /api/v1/tasco-logs/f-loads/:fLoadId\r\n * Update a TascoFLoad\r\n */\r\nrouter.put(\"/f-loads/:fLoadId\", updateFLoadController);\r\n\r\n/**\r\n * DELETE /api/v1/tasco-logs/f-loads/:fLoadId\r\n * Delete a TascoFLoad\r\n */\r\nrouter.delete(\"/f-loads/:fLoadId\", deleteFLoadController);\r\n\r\nexport default router;\r\n"],"names":[],"mappings":";;AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AACjC,OAAO,EACL,qBAAqB,EACrB,iCAAiC,EACjC,4BAA4B,EAC5B,4BAA4B,EAC5B,yBAAyB,EACzB,uBAAuB,EACvB,yBAAyB,EACzB,yBAAyB,EACzB,qBAAqB,EACrB,mBAAmB,EACnB,qBAAqB,EACrB,qBAAqB,EACrB,6BAA6B,EAC7B,wBAAwB,EACxB,0BAA0B,EAC1B,2BAA2B,GAC5B,MAAM,sCAAsC,CAAC;AAE9C,MAAM,MAAM,GAAG,MAAM,EAAE,CAAC;AAExB;;;;;GAKG;AAEH,+EAA+E;AAC/E,mCAAmC;AACnC,+EAA+E;AAE/E;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,sBAAsB,EAAE,2BAA2B,CAAC,CAAC;AAEhE;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,yBAAyB,EAAE,iCAAiC,CAAC,CAAC;AAEzE,+EAA+E;AAC/E,6DAA6D;AAC7D,+EAA+E;AAE/E;;;;GAIG;AACH,MAAM,CAAC,GAAG,CAAC,mBAAmB,EAAE,0BAA0B,CAAC,CAAC;AAE5D;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,eAAe,EAAE,6BAA6B,CAAC,CAAC;AAE3D;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,oBAAoB,EAAE,4BAA4B,CAAC,CAAC;AAE/D;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,4BAA4B,CAAC,CAAC;AAEzD;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,kBAAkB,EAAE,uBAAuB,CAAC,CAAC;AAExD;;;GAGG;AACH,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,yBAAyB,CAAC,CAAC;AAE3D;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,mBAAmB,CAAC,CAAC;AAEhD;;;GAGG;AACH,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,qBAAqB,CAAC,CAAC;AAEnD,+EAA+E;AAC/E,qDAAqD;AACrD,+EAA+E;AAE/E;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,qBAAqB,CAAC,CAAC;AAE1C;;;GAGG;AACH,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,wBAAwB,CAAC,CAAC;AAEhD,+EAA+E;AAC/E,wDAAwD;AACxD,+EAA+E;AAE/E;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,2BAA2B,EAAE,yBAAyB,CAAC,CAAC;AAEnE;;;GAGG;AACH,MAAM,CAAC,MAAM,CAAC,2BAA2B,EAAE,yBAAyB,CAAC,CAAC;AAEtE,+EAA+E;AAC/E,2DAA2D;AAC3D,+EAA+E;AAE/E;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,mBAAmB,EAAE,qBAAqB,CAAC,CAAC;AAEvD;;;GAGG;AACH,MAAM,CAAC,MAAM,CAAC,mBAAmB,EAAE,qBAAqB,CAAC,CAAC;AAE1D,eAAe,MAAM,CAAC","debug_id":"6eeb2ef4-a68e-5d87-82e9-31a0e71f008a"}