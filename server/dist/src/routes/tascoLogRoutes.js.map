{"version":3,"file":"tascoLogRoutes.js","sources":["src/routes/tascoLogRoutes.ts"],"sourceRoot":"/","sourcesContent":["import { Router } from \"express\";\nimport {\n  getTascoLogController,\n  getTascoLogsByTimesheetController,\n  updateLoadQuantityController,\n  updateTascoCommentController,\n  createRefuelLogController,\n  getRefuelLogsController,\n  updateRefuelLogController,\n  deleteRefuelLogController,\n  createFLoadController,\n  getFLoadsController,\n  updateFLoadController,\n  deleteFLoadController,\n  getCompleteTascoLogController,\n  deleteTascoLogController,\n  getTascoLogFieldController,\n  getActiveTascoLogController,\n} from \"../controllers/tascoLogController.js\";\n\nconst router = Router();\n\n/**\n * Tasco Log Routes\n * Base: /api/v1/tasco-logs\n *\n * IMPORTANT: Route order matters! More specific routes must come before generic :id routes\n */\n\n// ============================================================================\n// SPECIAL ROUTES - MUST COME FIRST\n// ============================================================================\n\n/**\n * GET /api/v1/tasco-logs/user/:userId/active\n * Get the active Tasco Log for a user\n */\nrouter.get(\"/user/:userId/active\", getActiveTascoLogController);\n\n/**\n * GET /api/v1/tasco-logs/timesheet/:timesheetId\n * Get all Tasco Logs for a timesheet\n */\nrouter.get(\"/timesheet/:timesheetId\", getTascoLogsByTimesheetController);\n\n// ============================================================================\n// ROUTES WITH PATH EXTENSIONS - MUST COME BEFORE GENERIC :id\n// ============================================================================\n\n/**\n * GET /api/v1/tasco-logs/:id/field/:field\n * Get specific field data for a Tasco Log\n * Supported fields: comment, loadCount, refuelLogs, fLoads\n */\nrouter.get(\"/:id/field/:field\", getTascoLogFieldController);\n\n/**\n * GET /api/v1/tasco-logs/:id/complete\n * Get complete Tasco Log data with all relations\n */\nrouter.get(\"/:id/complete\", getCompleteTascoLogController);\n\n/**\n * PUT /api/v1/tasco-logs/:id/load-quantity\n * Update Tasco Log load quantity\n */\nrouter.put(\"/:id/load-quantity\", updateLoadQuantityController);\n\n/**\n * PUT /api/v1/tasco-logs/:id/comment\n * Update Tasco Log comment\n */\nrouter.put(\"/:id/comment\", updateTascoCommentController);\n\n/**\n * GET /api/v1/tasco-logs/:id/refuel-logs\n * Get all Refuel Logs for a Tasco Log\n */\nrouter.get(\"/:id/refuel-logs\", getRefuelLogsController);\n\n/**\n * POST /api/v1/tasco-logs/:id/refuel-logs\n * Create a new Refuel Log\n */\nrouter.post(\"/:id/refuel-logs\", createRefuelLogController);\n\n/**\n * GET /api/v1/tasco-logs/:id/f-loads\n * Get all F-Loads for a Tasco Log\n */\nrouter.get(\"/:id/f-loads\", getFLoadsController);\n\n/**\n * POST /api/v1/tasco-logs/:id/f-loads\n * Create a new TascoFLoad\n */\nrouter.post(\"/:id/f-loads\", createFLoadController);\n\n// ============================================================================\n// TASCO LOG ENDPOINTS - GENERIC :id (MUST COME LAST)\n// ============================================================================\n\n/**\n * GET /api/v1/tasco-logs/:id\n * Get a single Tasco Log by ID\n */\nrouter.get(\"/:id\", getTascoLogController);\n\n/**\n * DELETE /api/v1/tasco-logs/:id\n * Delete a Tasco Log (cascades to all related records)\n */\nrouter.delete(\"/:id\", deleteTascoLogController);\n\n// ============================================================================\n// REFUEL LOG ENDPOINTS (nested under :id handled above)\n// ============================================================================\n\n/**\n * PUT /api/v1/tasco-logs/refuel-logs/:refuelLogId\n * Update a Refuel Log\n */\nrouter.put(\"/refuel-logs/:refuelLogId\", updateRefuelLogController);\n\n/**\n * DELETE /api/v1/tasco-logs/refuel-logs/:refuelLogId\n * Delete a Refuel Log\n */\nrouter.delete(\"/refuel-logs/:refuelLogId\", deleteRefuelLogController);\n\n// ============================================================================\n// TASCO F-LOADS ENDPOINTS (nested under :id handled above)\n// ============================================================================\n\n/**\n * PUT /api/v1/tasco-logs/f-loads/:fLoadId\n * Update a TascoFLoad\n */\nrouter.put(\"/f-loads/:fLoadId\", updateFLoadController);\n\n/**\n * DELETE /api/v1/tasco-logs/f-loads/:fLoadId\n * Delete a TascoFLoad\n */\nrouter.delete(\"/f-loads/:fLoadId\", deleteFLoadController);\n\nexport default router;\n"],"names":[],"mappings":";;AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AACjC,OAAO,EACL,qBAAqB,EACrB,iCAAiC,EACjC,4BAA4B,EAC5B,4BAA4B,EAC5B,yBAAyB,EACzB,uBAAuB,EACvB,yBAAyB,EACzB,yBAAyB,EACzB,qBAAqB,EACrB,mBAAmB,EACnB,qBAAqB,EACrB,qBAAqB,EACrB,6BAA6B,EAC7B,wBAAwB,EACxB,0BAA0B,EAC1B,2BAA2B,GAC5B,MAAM,sCAAsC,CAAC;AAE9C,MAAM,MAAM,GAAG,MAAM,EAAE,CAAC;AAExB;;;;;GAKG;AAEH,+EAA+E;AAC/E,mCAAmC;AACnC,+EAA+E;AAE/E;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,sBAAsB,EAAE,2BAA2B,CAAC,CAAC;AAEhE;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,yBAAyB,EAAE,iCAAiC,CAAC,CAAC;AAEzE,+EAA+E;AAC/E,6DAA6D;AAC7D,+EAA+E;AAE/E;;;;GAIG;AACH,MAAM,CAAC,GAAG,CAAC,mBAAmB,EAAE,0BAA0B,CAAC,CAAC;AAE5D;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,eAAe,EAAE,6BAA6B,CAAC,CAAC;AAE3D;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,oBAAoB,EAAE,4BAA4B,CAAC,CAAC;AAE/D;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,4BAA4B,CAAC,CAAC;AAEzD;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,kBAAkB,EAAE,uBAAuB,CAAC,CAAC;AAExD;;;GAGG;AACH,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,yBAAyB,CAAC,CAAC;AAE3D;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,mBAAmB,CAAC,CAAC;AAEhD;;;GAGG;AACH,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,qBAAqB,CAAC,CAAC;AAEnD,+EAA+E;AAC/E,qDAAqD;AACrD,+EAA+E;AAE/E;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,qBAAqB,CAAC,CAAC;AAE1C;;;GAGG;AACH,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,wBAAwB,CAAC,CAAC;AAEhD,+EAA+E;AAC/E,wDAAwD;AACxD,+EAA+E;AAE/E;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,2BAA2B,EAAE,yBAAyB,CAAC,CAAC;AAEnE;;;GAGG;AACH,MAAM,CAAC,MAAM,CAAC,2BAA2B,EAAE,yBAAyB,CAAC,CAAC;AAEtE,+EAA+E;AAC/E,2DAA2D;AAC3D,+EAA+E;AAE/E;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,mBAAmB,EAAE,qBAAqB,CAAC,CAAC;AAEvD;;;GAGG;AACH,MAAM,CAAC,MAAM,CAAC,mBAAmB,EAAE,qBAAqB,CAAC,CAAC;AAE1D,eAAe,MAAM,CAAC","debug_id":"d6a68697-1b34-5875-b246-b175e6bbfb88"}