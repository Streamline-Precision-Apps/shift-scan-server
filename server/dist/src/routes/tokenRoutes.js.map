{"version":3,"file":"tokenRoutes.js","sources":["src/routes/tokenRoutes.ts"],"sourceRoot":"/","sourcesContent":["import { Router } from \"express\";\r\nimport { verifyToken } from \"../middleware/authMiddleware.js\";\r\nimport {\r\n  saveFCMToken,\r\n  requestPasswordReset,\r\n  resetPassword,\r\n  verifyResetToken,\r\n  deleteResetToken,\r\n} from \"../controllers/tokenController.js\";\r\n\r\nconst router = Router();\r\n\r\n// FCM token management (requires authentication)\r\nrouter.post(\"/fcm\", verifyToken, saveFCMToken);\r\n\r\n// Password reset endpoints (no authentication required)\r\n/**\r\n * POST /api/tokens/password-reset\r\n * Request a password reset email\r\n * Body: { email: string }\r\n */\r\nrouter.post(\"/password-reset\", requestPasswordReset);\r\n\r\n/**\r\n * POST /api/tokens/reset-password\r\n * Reset the password using a valid reset token\r\n * Body: { token: string, password: string }\r\n */\r\nrouter.post(\"/reset-password\", resetPassword);\r\n\r\n/**\r\n * GET /api/tokens/verify-reset-token/:token\r\n * Verify if a reset token is valid\r\n */\r\nrouter.get(\"/verify-reset-token/:token\", verifyResetToken);\r\n\r\n/**\r\n * DELETE /api/tokens/reset/:token\r\n * Delete a password reset token\r\n */\r\nrouter.delete(\"/reset/:token\", deleteResetToken);\r\n\r\nexport default router;\r\n"],"names":[],"mappings":";;AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AACjC,OAAO,EAAE,WAAW,EAAE,MAAM,iCAAiC,CAAC;AAC9D,OAAO,EACL,YAAY,EACZ,oBAAoB,EACpB,aAAa,EACb,gBAAgB,EAChB,gBAAgB,GACjB,MAAM,mCAAmC,CAAC;AAE3C,MAAM,MAAM,GAAG,MAAM,EAAE,CAAC;AAExB,iDAAiD;AACjD,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;AAE/C,wDAAwD;AACxD;;;;GAIG;AACH,MAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,oBAAoB,CAAC,CAAC;AAErD;;;;GAIG;AACH,MAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,aAAa,CAAC,CAAC;AAE9C;;;GAGG;AACH,MAAM,CAAC,GAAG,CAAC,4BAA4B,EAAE,gBAAgB,CAAC,CAAC;AAE3D;;;GAGG;AACH,MAAM,CAAC,MAAM,CAAC,eAAe,EAAE,gBAAgB,CAAC,CAAC;AAEjD,eAAe,MAAM,CAAC","debug_id":"f8b16fee-f4a0-55b2-8406-f99121473650"}