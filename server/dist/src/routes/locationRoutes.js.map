{"version":3,"file":"locationRoutes.js","sources":["src/routes/locationRoutes.ts"],"sourceRoot":"/","sourcesContent":["import { Router } from \"express\";\r\nimport { verifyToken } from \"../middleware/authMiddleware.js\";\r\nimport {\r\n  getUserLocations,\r\n  getUserLocationHistory,\r\n  postUserLocation,\r\n  getAllUsersLocations,\r\n} from \"../controllers/locationController.js\";\r\n\r\nconst router = Router();\r\n\r\n// Get all users' current locations for map view\r\nrouter.get(\"/all\", verifyToken, getAllUsersLocations);\r\n\r\n// Get latest location for authenticated user\r\nrouter.get(\"/user\", verifyToken, getUserLocations);\r\n\r\n// Get latest location for any user (admin/manager)\r\nrouter.get(\"/:userId\", verifyToken, getUserLocations);\r\n\r\n// Get location history for any user\r\nrouter.get(\"/:userId/history\", verifyToken, getUserLocationHistory);\r\n\r\n// Post a new location log (expects userId and sessionId in body)\r\nrouter.post(\"/\", postUserLocation);\r\n\r\nexport default router;\r\n"],"names":[],"mappings":";;AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AACjC,OAAO,EAAE,WAAW,EAAE,MAAM,iCAAiC,CAAC;AAC9D,OAAO,EACL,gBAAgB,EAChB,sBAAsB,EACtB,gBAAgB,EAChB,oBAAoB,GACrB,MAAM,sCAAsC,CAAC;AAE9C,MAAM,MAAM,GAAG,MAAM,EAAE,CAAC;AAExB,gDAAgD;AAChD,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,WAAW,EAAE,oBAAoB,CAAC,CAAC;AAEtD,6CAA6C;AAC7C,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,WAAW,EAAE,gBAAgB,CAAC,CAAC;AAEnD,mDAAmD;AACnD,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,WAAW,EAAE,gBAAgB,CAAC,CAAC;AAEtD,oCAAoC;AACpC,MAAM,CAAC,GAAG,CAAC,kBAAkB,EAAE,WAAW,EAAE,sBAAsB,CAAC,CAAC;AAEpE,iEAAiE;AACjE,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,gBAAgB,CAAC,CAAC;AAEnC,eAAe,MAAM,CAAC","debug_id":"f38ddcbd-81df-5e19-b589-7f31afd5d19c"}