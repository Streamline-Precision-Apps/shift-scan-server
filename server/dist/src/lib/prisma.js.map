{"version":3,"file":"prisma.js","sources":["src/lib/prisma.ts"],"sourceRoot":"/","sourcesContent":["import { PrismaClient } from \"../../generated/prisma/index.js\";\r\nimport { PrismaPg } from \"@prisma/adapter-pg\";\r\nimport pg from \"pg\";\r\n\r\nconst prismaClientSingleton = () => {\r\n  const pool = new pg.Pool({\r\n    connectionString: process.env.POSTGRES_PRISMA_URL!,\r\n  });\r\n  const adapter = new PrismaPg(pool);\r\n  return new PrismaClient({ adapter });\r\n};\r\n\r\ndeclare const globalThis: {\r\n  prismaGlobal: ReturnType<typeof prismaClientSingleton>;\r\n} & typeof global;\r\n\r\nconst prisma = globalThis.prismaGlobal ?? prismaClientSingleton();\r\n\r\nexport default prisma;\r\n\r\nif (process.env.NODE_ENV !== \"production\") globalThis.prismaGlobal = prisma;\r\n"],"names":[],"mappings":";;AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,iCAAiC,CAAC;AAC/D,OAAO,EAAE,QAAQ,EAAE,MAAM,oBAAoB,CAAC;AAC9C,OAAO,EAAE,MAAM,IAAI,CAAC;AAEpB,MAAM,qBAAqB,GAAG,GAAG,EAAE;IACjC,MAAM,IAAI,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC;QACvB,gBAAgB,EAAE,OAAO,CAAC,GAAG,CAAC,mBAAoB;KACnD,CAAC,CAAC;IACH,MAAM,OAAO,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;IACnC,OAAO,IAAI,YAAY,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;AACvC,CAAC,CAAC;AAMF,MAAM,MAAM,GAAG,UAAU,CAAC,YAAY,IAAI,qBAAqB,EAAE,CAAC;AAElE,eAAe,MAAM,CAAC;AAEtB,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY;IAAE,UAAU,CAAC,YAAY,GAAG,MAAM,CAAC","debug_id":"29d9de3c-538f-5d59-9958-080d49e42d09"}