{"version":3,"file":"dateUtils.js","sources":["src/lib/dateUtils.ts"],"sourceRoot":"/","sourcesContent":["import { isValid, parseISO, startOfDay, endOfDay, formatISO } from \"date-fns\";\r\n\r\n/**\r\n * Converts a string or Date input to a validated Date object\r\n * @param input - Date string (ISO format) or Date object\r\n * @returns Validated Date object\r\n * @throws Error if the date is invalid\r\n */\r\nexport function toDateTime(input: string | Date): Date {\r\n  if (input instanceof Date) {\r\n    if (!isValid(input)) {\r\n      throw new Error(`Invalid date object: ${input}`);\r\n    }\r\n    return input;\r\n  }\r\n  \r\n  const date = parseISO(input);\r\n  if (!isValid(date)) {\r\n    throw new Error(`Invalid date format: ${input}`);\r\n  }\r\n  return date;\r\n}\r\n\r\n/**\r\n * Creates a date range object with start and end times for a given date\r\n * Start is set to beginning of day (00:00:00.000), end to end of day (23:59:59.999)\r\n * @param dateParam - Date string (YYYY-MM-DD format) or Date object\r\n * @returns Object with start and end Date objects\r\n */\r\nexport function createDateRange(dateParam: string | Date): {\r\n  start: Date;\r\n  end: Date;\r\n} {\r\n  const date = toDateTime(dateParam);\r\n  return {\r\n    start: startOfDay(date),\r\n    end: endOfDay(date),\r\n  };\r\n}\r\n\r\n/**\r\n * Converts a Date or date string to ISO 8601 format string\r\n * @param input - Date string or Date object\r\n * @returns ISO 8601 formatted string\r\n */\r\nexport function toISODate(input: string | Date): string {\r\n  return formatISO(toDateTime(input));\r\n}\r\n\r\n/**\r\n * Safely converts optional date input to Date object or null\r\n * Useful for nullable date fields in database operations\r\n * @param input - Optional date string or Date object\r\n * @returns Date object or null\r\n */\r\nexport function toOptionalDateTime(input: string | Date | null | undefined): Date | null {\r\n  if (input === null || input === undefined) {\r\n    return null;\r\n  }\r\n  return toDateTime(input);\r\n}\r\n"],"names":[],"mappings":";;AAAA,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,UAAU,CAAC;AAE9E;;;;;GAKG;AACH,MAAM,UAAU,UAAU,CAAC,KAAoB;IAC7C,IAAI,KAAK,YAAY,IAAI,EAAE,CAAC;QAC1B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC;YACpB,MAAM,IAAI,KAAK,CAAC,wBAAwB,KAAK,EAAE,CAAC,CAAC;QACnD,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED,MAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC;QACnB,MAAM,IAAI,KAAK,CAAC,wBAAwB,KAAK,EAAE,CAAC,CAAC;IACnD,CAAC;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAED;;;;;GAKG;AACH,MAAM,UAAU,eAAe,CAAC,SAAwB;IAItD,MAAM,IAAI,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;IACnC,OAAO;QACL,KAAK,EAAE,UAAU,CAAC,IAAI,CAAC;QACvB,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC;KACpB,CAAC;AACJ,CAAC;AAED;;;;GAIG;AACH,MAAM,UAAU,SAAS,CAAC,KAAoB;IAC5C,OAAO,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;AACtC,CAAC;AAED;;;;;GAKG;AACH,MAAM,UAAU,kBAAkB,CAAC,KAAuC;IACxE,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,EAAE,CAAC;QAC1C,OAAO,IAAI,CAAC;IACd,CAAC;IACD,OAAO,UAAU,CAAC,KAAK,CAAC,CAAC;AAC3B,CAAC","debug_id":"23dfd3f2-092d-58f2-b403-b2f8281098e8"}