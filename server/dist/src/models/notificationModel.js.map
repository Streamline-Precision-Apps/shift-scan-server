{"version":3,"file":"notificationModel.js","sources":["src/models/notificationModel.ts"],"sourceRoot":"/","sourcesContent":["import prisma from \"../lib/prisma.js\";\r\n\r\nexport async function createNotification(data: any) {\r\n  return prisma.notification.create({ data });\r\n}\r\n\r\nexport async function updateNotificationUrl(id: number, url: string) {\r\n  return prisma.notification.update({ where: { id }, data: { url } });\r\n}\r\n\r\nexport async function findTopicSubscription(userId: string, topic: string) {\r\n  return prisma.topicSubscription.findFirst({ where: { userId, topic } });\r\n}\r\n\r\nexport async function createTopicSubscription(userId: string, topic: string) {\r\n  return prisma.topicSubscription.create({ data: { userId, topic } });\r\n}\r\n\r\nexport async function deleteTopicSubscription(userId: string, topic: string) {\r\n  return prisma.topicSubscription.deleteMany({ where: { userId, topic } });\r\n}\r\n"],"names":[],"mappings":";;AAAA,OAAO,MAAM,MAAM,kBAAkB,CAAC;AAEtC,MAAM,CAAC,KAAK,UAAU,kBAAkB,CAAC,IAAS;IAChD,OAAO,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;AAC9C,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,qBAAqB,CAAC,EAAU,EAAE,GAAW;IACjE,OAAO,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;AACtE,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,qBAAqB,CAAC,MAAc,EAAE,KAAa;IACvE,OAAO,MAAM,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;AAC1E,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,uBAAuB,CAAC,MAAc,EAAE,KAAa;IACzE,OAAO,MAAM,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;AACtE,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,uBAAuB,CAAC,MAAc,EAAE,KAAa;IACzE,OAAO,MAAM,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;AAC3E,CAAC","debug_id":"002b979c-4570-5624-ad33-888d7b014f2b"}