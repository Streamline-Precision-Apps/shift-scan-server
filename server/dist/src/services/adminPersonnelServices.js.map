{"version":3,"file":"adminPersonnelServices.js","sources":["src/services/adminPersonnelServices.ts"],"sourceRoot":"/","sourcesContent":["import { hash } from \"bcryptjs\";\nimport type { Permission, WorkType } from \"../../generated/prisma/index.js\";\nimport prisma from \"../lib/prisma.js\";\n\nexport async function getCrewEmployees() {\n  return await prisma.user.findMany({\n    select: {\n      id: true,\n      firstName: true,\n      middleName: true,\n      lastName: true,\n      secondLastName: true,\n      permission: true,\n      truckView: true,\n      mechanicView: true,\n      laborView: true,\n      tascoView: true,\n      image: true,\n      terminationDate: true,\n    },\n  });\n}\n\nexport async function getAllCrews({\n  page = 1,\n  pageSize = 25,\n  status = \"all\",\n  search = \"\",\n} = {}) {\n  let crews, total, skip, totalPages;\n\n  if (status === \"inactive\") {\n    // No pagination for inactive crews\n    skip = undefined;\n    totalPages = 1;\n\n    const whereCondition: any = {\n      // Add your inactive condition here if you have one\n      // For now, we'll just search all crews\n    };\n\n    if (search) {\n      whereCondition.name = { contains: search, mode: \"insensitive\" };\n    }\n\n    crews = await prisma.crew.findMany({\n      where: whereCondition,\n      orderBy: {\n        name: \"asc\",\n      },\n      include: {\n        Users: {\n          select: {\n            id: true,\n            firstName: true,\n            middleName: true,\n            lastName: true,\n            secondLastName: true,\n            image: true,\n          },\n        },\n      },\n    });\n\n    total = crews.length;\n  } else {\n    // Standard pagination\n    skip = (page - 1) * pageSize;\n\n    const whereCondition: any = {};\n\n    if (search) {\n      whereCondition.name = { contains: search, mode: \"insensitive\" };\n    }\n\n    total = await prisma.crew.count({\n      where: whereCondition,\n    });\n\n    totalPages = Math.ceil(total / pageSize);\n\n    crews = await prisma.crew.findMany({\n      where: whereCondition,\n      skip,\n      take: pageSize,\n      orderBy: {\n        name: \"asc\",\n      },\n      include: {\n        Users: {\n          select: {\n            id: true,\n            firstName: true,\n            middleName: true,\n            lastName: true,\n            secondLastName: true,\n            image: true,\n          },\n        },\n      },\n    });\n  }\n\n  return {\n    crews,\n    total,\n    page,\n    pageSize,\n    totalPages,\n  };\n}\n\nexport async function getEmployeeInfo(id: string) {\n  return await prisma.user.findUnique({\n    where: {\n      id,\n    },\n    select: {\n      id: true,\n      firstName: true,\n      middleName: true,\n      lastName: true,\n      secondLastName: true,\n      username: true,\n      email: true,\n      DOB: true,\n      image: true,\n      signature: true,\n      truckView: true,\n      tascoView: true,\n      laborView: true,\n      mechanicView: true,\n      permission: true,\n      startDate: true,\n      terminationDate: true,\n      Contact: {\n        select: {\n          phoneNumber: true,\n          emergencyContact: true,\n          emergencyContactNumber: true,\n        },\n      },\n      Crews: {\n        select: {\n          id: true,\n          name: true,\n          leadId: true,\n        },\n      },\n    },\n  });\n}\n\nexport async function getCrewByIdAdmin(id: string) {\n  return await prisma.crew.findUnique({\n    where: {\n      id,\n    },\n    include: {\n      Users: {\n        select: {\n          id: true,\n          firstName: true,\n          middleName: true,\n          lastName: true,\n          secondLastName: true,\n        },\n      },\n    },\n  });\n}\n\n/**\n * Get paginated and filtered personnel summary for admin panel\n * @param {Object} params\n * @returns {Promise<Object>}\n */\nexport async function getPersonnelManager({\n  page = 1,\n  pageSize = 25,\n  status = \"all\",\n  search = \"\",\n  accessLevel = \"\",\n  roles = \"\",\n  accountSetup = \"\",\n  crews = \"\",\n} = {}) {\n  // Parse filter parameters\n  const permissions = roles ? roles.split(\",\") : [];\n  const accessLevels = accessLevel ? accessLevel.split(\",\") : [];\n  const accountSetupValues = accountSetup ? accountSetup.split(\",\") : [];\n  const crewsValues = crews ? crews.split(\",\") : [];\n\n  // Build filter conditions\n  const buildFilterConditions = (): Record<string, any> => {\n    const conditions: Record<string, any> = {};\n    // Permission filter\n    if (permissions.length > 0) {\n      conditions.permission = { in: permissions };\n    }\n    // Access level filter\n    if (accessLevels.length > 0) {\n      const accessConditions = [];\n      if (accessLevels.includes(\"truckView\"))\n        accessConditions.push({ truckView: true });\n      if (accessLevels.includes(\"tascoView\"))\n        accessConditions.push({ tascoView: true });\n      if (accessLevels.includes(\"mechanicView\"))\n        accessConditions.push({ mechanicView: true });\n      if (accessLevels.includes(\"laborView\"))\n        accessConditions.push({ laborView: true });\n      if (accessConditions.length > 0) {\n        conditions.accessLevelConditions = accessConditions;\n      }\n    }\n    // Account setup filter\n    if (accountSetupValues.length > 0) {\n      const booleanValues = [];\n      for (const val of accountSetupValues) {\n        if (val === \"true\") booleanValues.push(true);\n        else if (val === \"false\") booleanValues.push(false);\n      }\n      if (booleanValues.length > 0) {\n        if (booleanValues.length === 1)\n          conditions.accountSetup = booleanValues[0];\n        else conditions.accountSetup = { in: booleanValues };\n      }\n    }\n    // Crews filter\n    if (crewsValues.length > 0) {\n      if (\n        crewsValues.includes(\"hasCrews\") &&\n        !crewsValues.includes(\"noCrews\")\n      ) {\n        conditions.hasCrews = true;\n      } else if (\n        crewsValues.includes(\"noCrews\") &&\n        !crewsValues.includes(\"hasCrews\")\n      ) {\n        conditions.hasCrews = false;\n      }\n    }\n    return conditions;\n  };\n\n  const filterConditions = buildFilterConditions();\n\n  let users, total, skip, totalPages;\n\n  if (status === \"inactive\") {\n    skip = undefined;\n    totalPages = 1;\n    const whereCondition: Record<string, any> = {\n      terminationDate: { not: null },\n    };\n    if (filterConditions.permission)\n      whereCondition.permission = filterConditions.permission;\n    if (filterConditions.accountSetup !== undefined)\n      whereCondition.accountSetup = filterConditions.accountSetup;\n    if (filterConditions.hasCrews !== undefined) {\n      whereCondition.Crews = filterConditions.hasCrews\n        ? { some: {} }\n        : { none: {} };\n    }\n    // OR conditions for search and access levels\n    if (search || filterConditions.accessLevelConditions) {\n      const searchConditions: Record<string, any>[] = [];\n      const accessConditions: Record<string, any>[] =\n        filterConditions.accessLevelConditions || [];\n      if (search) {\n        searchConditions.push(\n          { username: { contains: search, mode: \"insensitive\" } },\n          { firstName: { contains: search, mode: \"insensitive\" } },\n          { middleName: { contains: search, mode: \"insensitive\" } },\n          { lastName: { contains: search, mode: \"insensitive\" } },\n          { secondLastName: { contains: search, mode: \"insensitive\" } },\n          {\n            Contact: { phoneNumber: { contains: search, mode: \"insensitive\" } },\n          }\n        );\n      }\n      if (search && accessConditions.length > 0) {\n        whereCondition.AND = [\n          { OR: searchConditions },\n          { OR: accessConditions },\n        ];\n      } else if (searchConditions.length > 0) {\n        whereCondition.OR = searchConditions;\n      } else if (accessConditions.length > 0) {\n        whereCondition.OR = accessConditions;\n      }\n    }\n    users = await prisma.user.findMany({\n      where: whereCondition,\n      select: {\n        id: true,\n        username: true,\n        firstName: true,\n        middleName: true,\n        lastName: true,\n        secondLastName: true,\n        image: true,\n        email: true,\n        DOB: true,\n        terminationDate: true,\n        accountSetup: true,\n        permission: true,\n        truckView: true,\n        tascoView: true,\n        laborView: true,\n        mechanicView: true,\n        Crews: { select: { id: true, name: true, leadId: true } },\n        Contact: {\n          select: {\n            phoneNumber: true,\n            emergencyContact: true,\n            emergencyContactNumber: true,\n          },\n        },\n      },\n      orderBy: { lastName: \"asc\" },\n    });\n    total = users.length;\n    page = 1;\n    pageSize = users.length;\n  } else {\n    // Ensure page and pageSize are strings before parsing\n    const pageStr = typeof page === \"number\" ? String(page) : page;\n    const pageSizeStr =\n      typeof pageSize === \"number\" ? String(pageSize) : pageSize;\n    page = parseInt(pageStr, 10) || 1;\n    pageSize = parseInt(pageSizeStr, 10) || 25;\n    skip = (page - 1) * pageSize;\n    const whereCondition: Record<string, any> = {\n      terminationDate: null,\n    };\n    if (filterConditions.permission)\n      whereCondition.permission = filterConditions.permission;\n    if (filterConditions.accountSetup !== undefined)\n      whereCondition.accountSetup = filterConditions.accountSetup;\n    if (filterConditions.hasCrews !== undefined) {\n      whereCondition.Crews = filterConditions.hasCrews\n        ? { some: {} }\n        : { none: {} };\n    }\n    // OR conditions for search and access levels\n    if (search || filterConditions.accessLevelConditions) {\n      const searchConditions: Record<string, any>[] = [];\n      const accessConditions: Record<string, any>[] =\n        filterConditions.accessLevelConditions || [];\n      if (search) {\n        searchConditions.push(\n          { username: { contains: search, mode: \"insensitive\" } },\n          { firstName: { contains: search, mode: \"insensitive\" } },\n          { middleName: { contains: search, mode: \"insensitive\" } },\n          { lastName: { contains: search, mode: \"insensitive\" } },\n          { secondLastName: { contains: search, mode: \"insensitive\" } },\n          {\n            Contact: { phoneNumber: { contains: search, mode: \"insensitive\" } },\n          }\n        );\n      }\n      if (search && accessConditions.length > 0) {\n        whereCondition.AND = [\n          { OR: searchConditions },\n          { OR: accessConditions },\n        ];\n      } else if (searchConditions.length > 0) {\n        whereCondition.OR = searchConditions;\n      } else if (accessConditions.length > 0) {\n        whereCondition.OR = accessConditions;\n      }\n    }\n    total = await prisma.user.count({ where: whereCondition });\n    totalPages = Math.ceil(total / pageSize);\n    users = await prisma.user.findMany({\n      where: whereCondition,\n      select: {\n        id: true,\n        username: true,\n        firstName: true,\n        middleName: true,\n        lastName: true,\n        secondLastName: true,\n        image: true,\n        email: true,\n        DOB: true,\n        terminationDate: true,\n        accountSetup: true,\n        permission: true,\n        truckView: true,\n        tascoView: true,\n        laborView: true,\n        mechanicView: true,\n        Crews: { select: { id: true, name: true, leadId: true } },\n        Contact: {\n          select: {\n            phoneNumber: true,\n            emergencyContact: true,\n            emergencyContactNumber: true,\n          },\n        },\n      },\n      orderBy: { lastName: \"asc\" },\n      skip,\n      take: pageSize,\n    });\n  }\n\n  // Post-process to add crew lead names\n  const userIds: Set<string> = new Set();\n  users.forEach((user) => {\n    user.Crews?.forEach((crew) => {\n      if (crew.leadId) userIds.add(crew.leadId as string);\n    });\n  });\n  const crewLeads = await prisma.user.findMany({\n    where: { id: { in: Array.from(userIds) as string[] } },\n    select: { id: true, firstName: true, lastName: true },\n  });\n  const leadMap = new Map();\n  crewLeads.forEach((lead) => {\n    leadMap.set(lead.id, `${lead.firstName} ${lead.lastName}`);\n  });\n  const usersWithCrewLeads = users.map((user) => ({\n    ...user,\n    Crews: user.Crews?.map((crew) => ({\n      ...crew,\n      leadName: leadMap.get(crew.leadId) || \"Unknown\",\n    })),\n  }));\n\n  return {\n    users: usersWithCrewLeads,\n    total,\n    page,\n    pageSize,\n    totalPages,\n  };\n}\n\nexport async function createCrew(\n  name: string,\n  Users: string,\n  leadId: string,\n  crewType: WorkType\n) {\n  if (!name || !name.trim()) throw new Error(\"Crew name is required.\");\n  if (!Users) throw new Error(\"Crew members data is missing.\");\n  if (!leadId) throw new Error(\"A team lead is required.\");\n  const newCrew = await prisma.crew.create({\n    data: {\n      name: name.trim(),\n      leadId,\n      crewType,\n      Users: {\n        connect: JSON.parse(Users),\n      },\n    },\n  });\n  return {\n    success: true,\n    crewId: newCrew.id,\n    message: \"Crew created successfully\",\n  };\n}\n\nexport async function editCrew(\n  id: string,\n  name: string,\n  Users: string,\n  leadId: string,\n  crewType: WorkType\n) {\n  if (!name || !name.trim()) throw new Error(\"Crew name is required.\");\n  if (!Users) throw new Error(\"Crew members data is missing.\");\n  if (!leadId) throw new Error(\"A team lead is required.\");\n  const existingCrew = await prisma.crew.findUnique({\n    where: { id },\n    include: { Users: true },\n  });\n\n  if (!existingCrew) throw new Error(\"Crew not found.\");\n\n  const newUsers = JSON.parse(Users) as Array<{\n    id: string;\n  }>;\n\n  const updatedCrew = await prisma.crew.update({\n    where: { id },\n    data: {\n      name: name.trim(),\n      leadId,\n      crewType,\n      Users: {\n        disconnect: existingCrew.Users.map((user) => ({ id: user.id })),\n        connect: newUsers.map((user) => ({ id: user.id })),\n      },\n    },\n  });\n  return {\n    success: true,\n    crewId: updatedCrew.id,\n    message: \"Crew updated successfully\",\n  };\n}\n\nexport async function deleteCrew(id: string) {\n  await prisma.crew.delete({ where: { id } });\n  return { success: true };\n}\n\nexport async function createUserAdmin(payload: {\n  terminationDate: Date | null;\n  createdById: string;\n  username: string;\n  firstName: string;\n  middleName: string;\n  lastName: string;\n  secondLastName: string;\n  password: string;\n  permission: string;\n  truckView: boolean;\n  tascoView: boolean;\n  mechanicView: boolean;\n  laborView: boolean;\n  crews: {\n    id: string;\n  }[];\n}) {\n  try {\n    const hashedPassword = await hash(payload.password, 10);\n    const result = await prisma.$transaction(async (prisma) => {\n      // Create the user\n      const user = await prisma.user.create({\n        data: {\n          username: payload.username,\n          password: hashedPassword,\n          firstName: payload.firstName,\n          lastName: payload.lastName,\n          permission: payload.permission as Permission,\n          truckView: payload.truckView,\n          tascoView: payload.tascoView,\n          mechanicView: payload.mechanicView,\n          laborView: payload.laborView,\n          clockedIn: false,\n          accountSetup: false,\n          startDate: new Date(),\n          Crews: {\n            connect: payload.crews.map((crew) => ({ id: crew.id })),\n          },\n          Contact: {\n            create: {\n              // phoneNumber,\n              // emergencyContact,\n              // emergencyContactNumber,\n            },\n          },\n          Company: { connect: { id: \"1\" } },\n        },\n      });\n\n      // Create user settings\n      await prisma.userSettings.create({\n        data: {\n          userId: user.id,\n          language: \"en\",\n          generalReminders: false,\n          personalReminders: false,\n          cameraAccess: false,\n          locationAccess: false,\n        },\n      });\n\n      return { success: true, userId: user.id };\n    });\n\n    return result;\n  } catch (error) {\n    console.error(\"Error creating user:\", error);\n    throw new Error(\n      `Failed to create user: ${\n        error instanceof Error ? error.message : \"Unknown error\"\n      }`\n    );\n  }\n}\n\nexport async function editUserAdmin(payload: {\n  id: string;\n  terminationDate: string | null;\n  username: string;\n  firstName: string;\n  middleName: string | null;\n  lastName: string;\n  secondLastName: string | null;\n  permission: string;\n  truckView: boolean;\n  tascoView: boolean;\n  mechanicView: boolean;\n  laborView: boolean;\n  crews: {\n    id: string;\n  }[];\n}) {\n  const result = await prisma.$transaction(async (prisma) => {\n    // Disconnect all crews, then connect only the selected ones\n    const user = await prisma.user.update({\n      where: { id: payload.id },\n      data: {\n        username: payload.username,\n        firstName: payload.firstName,\n        middleName: payload.middleName,\n        lastName: payload.lastName,\n        secondLastName: payload.secondLastName,\n        permission: payload.permission as Permission,\n        truckView: payload.truckView,\n        tascoView: payload.tascoView,\n        mechanicView: payload.mechanicView,\n        laborView: payload.laborView,\n        Crews: {\n          set: [], // disconnect all crews first\n          connect: payload.crews.map((crew) => ({ id: crew.id })),\n        },\n        Company: { connect: { id: \"1\" } },\n      },\n    });\n\n    return { success: true, userId: user.id };\n  });\n\n  return result;\n}\n\nexport async function deleteUser(id: string) {\n  await prisma.user.delete({ where: { id } });\n  return { success: true };\n}\n\nexport async function getAllActiveEmployees() {\n  return await prisma.user.findMany({\n    where: {\n      OR: [{ terminationDate: null }, { terminationDate: { gt: new Date() } }],\n    },\n    select: {\n      id: true,\n      firstName: true,\n      lastName: true,\n    },\n  });\n}\n"],"names":[],"mappings":"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","debug_id":"b0329e8a-93c3-59e7-80ae-8393d20c8fe3"}