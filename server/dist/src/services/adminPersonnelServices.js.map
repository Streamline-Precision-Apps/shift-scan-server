{"version":3,"file":"adminPersonnelServices.js","sources":["src/services/adminPersonnelServices.ts"],"sourceRoot":"/","sourcesContent":["import { hash } from \"bcryptjs\";\r\nimport type { Permission, WorkType } from \"../../generated/prisma/index.js\";\r\nimport prisma from \"../lib/prisma.js\";\r\n\r\nexport async function getCrewEmployees() {\r\n  return await prisma.user.findMany({\r\n    select: {\r\n      id: true,\r\n      firstName: true,\r\n      middleName: true,\r\n      lastName: true,\r\n      secondLastName: true,\r\n      permission: true,\r\n      truckView: true,\r\n      mechanicView: true,\r\n      laborView: true,\r\n      tascoView: true,\r\n      image: true,\r\n      terminationDate: true,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getAllCrews() {\r\n  return await prisma.crew.findMany({\r\n    orderBy: {\r\n      name: \"asc\",\r\n    },\r\n    include: {\r\n      Users: {\r\n        select: {\r\n          id: true,\r\n          firstName: true,\r\n          lastName: true,\r\n        },\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getEmployeeInfo(id: string) {\r\n  return await prisma.user.findUnique({\r\n    where: {\r\n      id,\r\n    },\r\n    select: {\r\n      id: true,\r\n      firstName: true,\r\n      middleName: true,\r\n      lastName: true,\r\n      secondLastName: true,\r\n      username: true,\r\n      email: true,\r\n      DOB: true,\r\n      image: true,\r\n      signature: true,\r\n      truckView: true,\r\n      tascoView: true,\r\n      laborView: true,\r\n      mechanicView: true,\r\n      permission: true,\r\n      startDate: true,\r\n      terminationDate: true,\r\n      Contact: {\r\n        select: {\r\n          phoneNumber: true,\r\n          emergencyContact: true,\r\n          emergencyContactNumber: true,\r\n        },\r\n      },\r\n      Crews: {\r\n        select: {\r\n          id: true,\r\n          name: true,\r\n          leadId: true,\r\n        },\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getCrewByIdAdmin(id: string) {\r\n  return await prisma.crew.findUnique({\r\n    where: {\r\n      id,\r\n    },\r\n    include: {\r\n      Users: {\r\n        select: {\r\n          id: true,\r\n          firstName: true,\r\n          middleName: true,\r\n          lastName: true,\r\n          secondLastName: true,\r\n        },\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * Get paginated and filtered personnel summary for admin panel\r\n * @param {Object} params\r\n * @returns {Promise<Object>}\r\n */\r\nexport async function getPersonnelManager({\r\n  page = 1,\r\n  pageSize = 25,\r\n  status = \"all\",\r\n  search = \"\",\r\n  accessLevel = \"\",\r\n  roles = \"\",\r\n  accountSetup = \"\",\r\n  crews = \"\",\r\n} = {}) {\r\n  // Parse filter parameters\r\n  const permissions = roles ? roles.split(\",\") : [];\r\n  const accessLevels = accessLevel ? accessLevel.split(\",\") : [];\r\n  const accountSetupValues = accountSetup ? accountSetup.split(\",\") : [];\r\n  const crewsValues = crews ? crews.split(\",\") : [];\r\n\r\n  // Build filter conditions\r\n  const buildFilterConditions = (): Record<string, any> => {\r\n    const conditions: Record<string, any> = {};\r\n    // Permission filter\r\n    if (permissions.length > 0) {\r\n      conditions.permission = { in: permissions };\r\n    }\r\n    // Access level filter\r\n    if (accessLevels.length > 0) {\r\n      const accessConditions = [];\r\n      if (accessLevels.includes(\"truckView\"))\r\n        accessConditions.push({ truckView: true });\r\n      if (accessLevels.includes(\"tascoView\"))\r\n        accessConditions.push({ tascoView: true });\r\n      if (accessLevels.includes(\"mechanicView\"))\r\n        accessConditions.push({ mechanicView: true });\r\n      if (accessLevels.includes(\"laborView\"))\r\n        accessConditions.push({ laborView: true });\r\n      if (accessConditions.length > 0) {\r\n        conditions.accessLevelConditions = accessConditions;\r\n      }\r\n    }\r\n    // Account setup filter\r\n    if (accountSetupValues.length > 0) {\r\n      const booleanValues = [];\r\n      for (const val of accountSetupValues) {\r\n        if (val === \"true\") booleanValues.push(true);\r\n        else if (val === \"false\") booleanValues.push(false);\r\n      }\r\n      if (booleanValues.length > 0) {\r\n        if (booleanValues.length === 1)\r\n          conditions.accountSetup = booleanValues[0];\r\n        else conditions.accountSetup = { in: booleanValues };\r\n      }\r\n    }\r\n    // Crews filter\r\n    if (crewsValues.length > 0) {\r\n      if (\r\n        crewsValues.includes(\"hasCrews\") &&\r\n        !crewsValues.includes(\"noCrews\")\r\n      ) {\r\n        conditions.hasCrews = true;\r\n      } else if (\r\n        crewsValues.includes(\"noCrews\") &&\r\n        !crewsValues.includes(\"hasCrews\")\r\n      ) {\r\n        conditions.hasCrews = false;\r\n      }\r\n    }\r\n    return conditions;\r\n  };\r\n\r\n  const filterConditions = buildFilterConditions();\r\n\r\n  let users, total, skip, totalPages;\r\n\r\n  if (status === \"inactive\") {\r\n    skip = undefined;\r\n    totalPages = 1;\r\n    const whereCondition: Record<string, any> = {\r\n      terminationDate: { not: null },\r\n    };\r\n    if (filterConditions.permission)\r\n      whereCondition.permission = filterConditions.permission;\r\n    if (filterConditions.accountSetup !== undefined)\r\n      whereCondition.accountSetup = filterConditions.accountSetup;\r\n    if (filterConditions.hasCrews !== undefined) {\r\n      whereCondition.Crews = filterConditions.hasCrews\r\n        ? { some: {} }\r\n        : { none: {} };\r\n    }\r\n    // OR conditions for search and access levels\r\n    if (search || filterConditions.accessLevelConditions) {\r\n      const searchConditions: Record<string, any>[] = [];\r\n      const accessConditions: Record<string, any>[] =\r\n        filterConditions.accessLevelConditions || [];\r\n      if (search) {\r\n        searchConditions.push(\r\n          { username: { contains: search, mode: \"insensitive\" } },\r\n          { firstName: { contains: search, mode: \"insensitive\" } },\r\n          { middleName: { contains: search, mode: \"insensitive\" } },\r\n          { lastName: { contains: search, mode: \"insensitive\" } },\r\n          { secondLastName: { contains: search, mode: \"insensitive\" } },\r\n          {\r\n            Contact: { phoneNumber: { contains: search, mode: \"insensitive\" } },\r\n          }\r\n        );\r\n      }\r\n      if (search && accessConditions.length > 0) {\r\n        whereCondition.AND = [\r\n          { OR: searchConditions },\r\n          { OR: accessConditions },\r\n        ];\r\n      } else if (searchConditions.length > 0) {\r\n        whereCondition.OR = searchConditions;\r\n      } else if (accessConditions.length > 0) {\r\n        whereCondition.OR = accessConditions;\r\n      }\r\n    }\r\n    users = await prisma.user.findMany({\r\n      where: whereCondition,\r\n      select: {\r\n        id: true,\r\n        username: true,\r\n        firstName: true,\r\n        middleName: true,\r\n        lastName: true,\r\n        secondLastName: true,\r\n        image: true,\r\n        email: true,\r\n        DOB: true,\r\n        terminationDate: true,\r\n        accountSetup: true,\r\n        permission: true,\r\n        truckView: true,\r\n        tascoView: true,\r\n        laborView: true,\r\n        mechanicView: true,\r\n        Crews: { select: { id: true, name: true, leadId: true } },\r\n        Contact: {\r\n          select: {\r\n            phoneNumber: true,\r\n            emergencyContact: true,\r\n            emergencyContactNumber: true,\r\n          },\r\n        },\r\n      },\r\n      orderBy: { lastName: \"asc\" },\r\n    });\r\n    total = users.length;\r\n    page = 1;\r\n    pageSize = users.length;\r\n  } else {\r\n    // Ensure page and pageSize are strings before parsing\r\n    const pageStr = typeof page === \"number\" ? String(page) : page;\r\n    const pageSizeStr =\r\n      typeof pageSize === \"number\" ? String(pageSize) : pageSize;\r\n    page = parseInt(pageStr, 10) || 1;\r\n    pageSize = parseInt(pageSizeStr, 10) || 25;\r\n    skip = (page - 1) * pageSize;\r\n    const whereCondition: Record<string, any> = {\r\n      terminationDate: null,\r\n    };\r\n    if (filterConditions.permission)\r\n      whereCondition.permission = filterConditions.permission;\r\n    if (filterConditions.accountSetup !== undefined)\r\n      whereCondition.accountSetup = filterConditions.accountSetup;\r\n    if (filterConditions.hasCrews !== undefined) {\r\n      whereCondition.Crews = filterConditions.hasCrews\r\n        ? { some: {} }\r\n        : { none: {} };\r\n    }\r\n    // OR conditions for search and access levels\r\n    if (search || filterConditions.accessLevelConditions) {\r\n      const searchConditions: Record<string, any>[] = [];\r\n      const accessConditions: Record<string, any>[] =\r\n        filterConditions.accessLevelConditions || [];\r\n      if (search) {\r\n        searchConditions.push(\r\n          { username: { contains: search, mode: \"insensitive\" } },\r\n          { firstName: { contains: search, mode: \"insensitive\" } },\r\n          { middleName: { contains: search, mode: \"insensitive\" } },\r\n          { lastName: { contains: search, mode: \"insensitive\" } },\r\n          { secondLastName: { contains: search, mode: \"insensitive\" } },\r\n          {\r\n            Contact: { phoneNumber: { contains: search, mode: \"insensitive\" } },\r\n          }\r\n        );\r\n      }\r\n      if (search && accessConditions.length > 0) {\r\n        whereCondition.AND = [\r\n          { OR: searchConditions },\r\n          { OR: accessConditions },\r\n        ];\r\n      } else if (searchConditions.length > 0) {\r\n        whereCondition.OR = searchConditions;\r\n      } else if (accessConditions.length > 0) {\r\n        whereCondition.OR = accessConditions;\r\n      }\r\n    }\r\n    total = await prisma.user.count({ where: whereCondition });\r\n    totalPages = Math.ceil(total / pageSize);\r\n    users = await prisma.user.findMany({\r\n      where: whereCondition,\r\n      select: {\r\n        id: true,\r\n        username: true,\r\n        firstName: true,\r\n        middleName: true,\r\n        lastName: true,\r\n        secondLastName: true,\r\n        image: true,\r\n        email: true,\r\n        DOB: true,\r\n        terminationDate: true,\r\n        accountSetup: true,\r\n        permission: true,\r\n        truckView: true,\r\n        tascoView: true,\r\n        laborView: true,\r\n        mechanicView: true,\r\n        Crews: { select: { id: true, name: true, leadId: true } },\r\n        Contact: {\r\n          select: {\r\n            phoneNumber: true,\r\n            emergencyContact: true,\r\n            emergencyContactNumber: true,\r\n          },\r\n        },\r\n      },\r\n      orderBy: { lastName: \"asc\" },\r\n      skip,\r\n      take: pageSize,\r\n    });\r\n  }\r\n\r\n  // Post-process to add crew lead names\r\n  const userIds: Set<string> = new Set();\r\n  users.forEach((user) => {\r\n    user.Crews?.forEach((crew) => {\r\n      if (crew.leadId) userIds.add(crew.leadId as string);\r\n    });\r\n  });\r\n  const crewLeads = await prisma.user.findMany({\r\n    where: { id: { in: Array.from(userIds) as string[] } },\r\n    select: { id: true, firstName: true, lastName: true },\r\n  });\r\n  const leadMap = new Map();\r\n  crewLeads.forEach((lead) => {\r\n    leadMap.set(lead.id, `${lead.firstName} ${lead.lastName}`);\r\n  });\r\n  const usersWithCrewLeads = users.map((user) => ({\r\n    ...user,\r\n    Crews: user.Crews?.map((crew) => ({\r\n      ...crew,\r\n      leadName: leadMap.get(crew.leadId) || \"Unknown\",\r\n    })),\r\n  }));\r\n\r\n  return {\r\n    users: usersWithCrewLeads,\r\n    total,\r\n    page,\r\n    pageSize,\r\n    totalPages,\r\n  };\r\n}\r\n\r\nexport async function createCrew(\r\n  name: string,\r\n  Users: string,\r\n  leadId: string,\r\n  crewType: WorkType\r\n) {\r\n  if (!name || !name.trim()) throw new Error(\"Crew name is required.\");\r\n  if (!Users) throw new Error(\"Crew members data is missing.\");\r\n  if (!leadId) throw new Error(\"A team lead is required.\");\r\n  const newCrew = await prisma.crew.create({\r\n    data: {\r\n      name: name.trim(),\r\n      leadId,\r\n      crewType,\r\n      Users: {\r\n        connect: JSON.parse(Users),\r\n      },\r\n    },\r\n  });\r\n  return {\r\n    success: true,\r\n    crewId: newCrew.id,\r\n    message: \"Crew created successfully\",\r\n  };\r\n}\r\n\r\nexport async function editCrew(\r\n  id: string,\r\n  name: string,\r\n  Users: string,\r\n  leadId: string,\r\n  crewType: WorkType\r\n) {\r\n  if (!name || !name.trim()) throw new Error(\"Crew name is required.\");\r\n  if (!Users) throw new Error(\"Crew members data is missing.\");\r\n  if (!leadId) throw new Error(\"A team lead is required.\");\r\n  const existingCrew = await prisma.crew.findUnique({\r\n    where: { id },\r\n    include: { Users: true },\r\n  });\r\n\r\n  if (!existingCrew) throw new Error(\"Crew not found.\");\r\n\r\n  const newUsers = JSON.parse(Users) as Array<{\r\n    id: string;\r\n  }>;\r\n\r\n  const updatedCrew = await prisma.crew.update({\r\n    where: { id },\r\n    data: {\r\n      name: name.trim(),\r\n      leadId,\r\n      crewType,\r\n      Users: {\r\n        disconnect: existingCrew.Users.map((user) => ({ id: user.id })),\r\n        connect: newUsers.map((user) => ({ id: user.id })),\r\n      },\r\n    },\r\n  });\r\n  return {\r\n    success: true,\r\n    crewId: updatedCrew.id,\r\n    message: \"Crew updated successfully\",\r\n  };\r\n}\r\n\r\nexport async function deleteCrew(id: string) {\r\n  await prisma.crew.delete({ where: { id } });\r\n  return { success: true };\r\n}\r\n\r\nexport async function createUserAdmin(payload: {\r\n  terminationDate: Date | null;\r\n  createdById: string;\r\n  username: string;\r\n  firstName: string;\r\n  middleName: string;\r\n  lastName: string;\r\n  secondLastName: string;\r\n  password: string;\r\n  permission: string;\r\n  truckView: boolean;\r\n  tascoView: boolean;\r\n  mechanicView: boolean;\r\n  laborView: boolean;\r\n  crews: {\r\n    id: string;\r\n  }[];\r\n}) {\r\n  try {\r\n    const hashedPassword = await hash(payload.password, 10);\r\n    const result = await prisma.$transaction(async (prisma) => {\r\n      // Create the user\r\n      const user = await prisma.user.create({\r\n        data: {\r\n          username: payload.username,\r\n          password: hashedPassword,\r\n          firstName: payload.firstName,\r\n          lastName: payload.lastName,\r\n          permission: payload.permission as Permission,\r\n          truckView: payload.truckView,\r\n          tascoView: payload.tascoView,\r\n          mechanicView: payload.mechanicView,\r\n          laborView: payload.laborView,\r\n          clockedIn: false,\r\n          accountSetup: false,\r\n          startDate: new Date(),\r\n          Crews: {\r\n            connect: payload.crews.map((crew) => ({ id: crew.id })),\r\n          },\r\n          Contact: {\r\n            create: {\r\n              // phoneNumber,\r\n              // emergencyContact,\r\n              // emergencyContactNumber,\r\n            },\r\n          },\r\n          Company: { connect: { id: \"1\" } },\r\n        },\r\n      });\r\n\r\n      // Create user settings\r\n      await prisma.userSettings.create({\r\n        data: {\r\n          userId: user.id,\r\n          language: \"en\",\r\n          generalReminders: false,\r\n          personalReminders: false,\r\n          cameraAccess: false,\r\n          locationAccess: false,\r\n        },\r\n      });\r\n\r\n      return { success: true, userId: user.id };\r\n    });\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport async function editUserAdmin(payload: {\r\n  id: string;\r\n  terminationDate: string | null;\r\n  username: string;\r\n  firstName: string;\r\n  middleName: string | null;\r\n  lastName: string;\r\n  secondLastName: string | null;\r\n  permission: string;\r\n  truckView: boolean;\r\n  tascoView: boolean;\r\n  mechanicView: boolean;\r\n  laborView: boolean;\r\n  crews: {\r\n    id: string;\r\n  }[];\r\n}) {\r\n  const result = await prisma.$transaction(async (prisma) => {\r\n    // Disconnect all crews, then connect only the selected ones\r\n    const user = await prisma.user.update({\r\n      where: { id: payload.id },\r\n      data: {\r\n        username: payload.username,\r\n        firstName: payload.firstName,\r\n        middleName: payload.middleName,\r\n        lastName: payload.lastName,\r\n        secondLastName: payload.secondLastName,\r\n        permission: payload.permission as Permission,\r\n        truckView: payload.truckView,\r\n        tascoView: payload.tascoView,\r\n        mechanicView: payload.mechanicView,\r\n        laborView: payload.laborView,\r\n        Crews: {\r\n          set: [], // disconnect all crews first\r\n          connect: payload.crews.map((crew) => ({ id: crew.id })),\r\n        },\r\n        Company: { connect: { id: \"1\" } },\r\n      },\r\n    });\r\n\r\n    return { success: true, userId: user.id };\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\nexport async function deleteUser(id: string) {\r\n  await prisma.user.delete({ where: { id } });\r\n  return { success: true };\r\n}\r\n\r\nexport async function getAllActiveEmployees() {\r\n  return await prisma.user.findMany({\r\n    where: {\r\n      OR: [{ terminationDate: null }, { terminationDate: { gt: new Date() } }],\r\n    },\r\n    select: {\r\n      id: true,\r\n      firstName: true,\r\n      lastName: true,\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":"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","debug_id":"33783d53-fbc0-5114-9aaa-b0de1375a054"}