{"version":3,"file":"truckingLogService.js","sources":["src/services/truckingLogService.ts"],"sourceRoot":"/","sourcesContent":["import type { Prisma } from \"../../generated/prisma/client.js\";\nimport prisma from \"../lib/prisma.js\";\n\nexport async function getTruckingLogService(userId: string) {\n  return await prisma.timeSheet.findFirst({\n    where: {\n      userId,\n      endTime: null, // Looking for active timesheets\n    },\n    orderBy: {\n      startTime: \"desc\", // Get the most recent one\n    },\n    select: {\n      id: true,\n      startTime: true,\n      TruckingLogs: {\n        orderBy: {\n          id: \"desc\", // Get the most recent trucking log\n        },\n        take: 1, // Only get the first (most recent) one\n        select: {\n          id: true,\n        },\n      },\n    },\n  });\n}\n\n//\nexport async function getTruckStartingMileage(timeSheetId: string) {\n  return await prisma.truckingLog.findFirst({\n    where: {\n      id: timeSheetId,\n    },\n    select: {\n      startingMileage: true,\n    },\n  });\n}\n\nexport async function getTruckEndingMileage(timeSheetId: string) {\n  return await prisma.truckingLog.findFirst({\n    where: {\n      id: timeSheetId,\n    },\n    select: {\n      endingMileage: true,\n    },\n  });\n}\n\nexport async function getTruckNotes(timeSheetId: string) {\n  const notes = await prisma.truckingLog.findFirst({\n    where: {\n      id: timeSheetId,\n    },\n    select: {\n      TimeSheet: {\n        select: {\n          comment: true,\n        },\n      },\n    },\n  });\n\n  const comment = notes?.TimeSheet?.comment;\n  return comment || \"\";\n}\n\nexport async function getRefueledLogs(timeSheetId: string) {\n  return await prisma.refuelLog.findMany({\n    where: {\n      truckingLogId: timeSheetId,\n    },\n  });\n}\n\nexport async function getTruckMaterial(timeSheetId: string) {\n  return await prisma.material.findMany({\n    where: {\n      truckingLogId: timeSheetId,\n    },\n  });\n}\n\nexport async function getTruckEquipmentHauled(timeSheetId: string) {\n  return await prisma.equipmentHauled.findMany({\n    where: {\n      truckingLogId: timeSheetId, // timeSheetId is actually truckingLogId\n    },\n    include: {\n      Equipment: {\n        select: {\n          id: true,\n          name: true,\n        },\n      },\n    },\n  });\n}\nexport async function getStateMileage(timeSheetId: string) {\n  return await prisma.stateMileage.findMany({\n    where: {\n      truckingLogId: timeSheetId,\n    },\n  });\n}\n\n// Unified function to get all trucking log data at once\nexport async function getAllTruckingLogData(truckingLogId: string) {\n  return await prisma.truckingLog.findUnique({\n    where: {\n      id: truckingLogId,\n    },\n    include: {\n      TimeSheet: {\n        select: {\n          comment: true,\n        },\n      },\n      RefuelLogs: true,\n      Materials: true,\n      EquipmentHauled: {\n        include: {\n          Equipment: {\n            select: {\n              id: true,\n              name: true,\n            },\n          },\n        },\n      },\n      StateMileages: true,\n    },\n  });\n}\n\nexport async function createEquipmentHauledService(truckingLogId: string) {\n  return await prisma.equipmentHauled.create({\n    data: {\n      TruckingLog: {\n        connect: { id: truckingLogId },\n      },\n    },\n  });\n}\n\nexport async function createHaulingLogsService(\n  truckingLogId: string,\n  body: { name: string; quantity: number; createdAt: Date }\n) {\n  return await prisma.material.create({\n    data: {\n      truckingLogId,\n      name: body.name,\n      quantity: body.quantity,\n      createdAt: body.createdAt,\n    },\n  });\n}\n\nexport async function editEquipmentHauledService(\n  id: string,\n  body: {\n    truckingLogId?: string;\n    source?: string | null;\n    destination?: string | null;\n    startMileage?: number | null;\n    endMileage?: number | null;\n  }\n) {\n  const updateData: Prisma.EquipmentHauledUpdateInput = {};\n\n  if (body.source !== undefined) updateData.source = body.source;\n  if (body.destination !== undefined) updateData.destination = body.destination;\n  if (body.startMileage !== undefined)\n    updateData.startMileage = body.startMileage;\n  if (body.endMileage !== undefined) updateData.endMileage = body.endMileage;\n\n  return await prisma.equipmentHauled.update({\n    where: { id },\n    data: updateData,\n  });\n}\n\nexport async function deleteEquipmentHauledService(id: string) {\n  try {\n    const result = await prisma.equipmentHauled.delete({\n      where: { id },\n    });\n    return result;\n  } catch (error) {\n    console.error(\"Error deleting EquipmentHauled:\", error);\n    throw error; // Re-throw so controller can handle it\n  }\n}\n\n// Update Services\nexport async function updateTruckingLogEndingMileageService(\n  id: string,\n  endingMileage: number\n) {\n  return await prisma.truckingLog.update({\n    where: { id },\n    data: { endingMileage },\n  });\n}\n\nexport async function updateTruckingLogStartingMileageService(\n  id: string,\n  startingMileage: number\n) {\n  return await prisma.truckingLog.update({\n    where: { id },\n    data: { startingMileage },\n  });\n}\n\nexport async function updateTruckingLogNotesService(id: string, notes: string) {\n  return await prisma.truckingLog.update({\n    where: { id },\n    data: {\n      TimeSheet: {\n        update: { comment: notes },\n      },\n    },\n    include: { TimeSheet: { select: { comment: true } } },\n  });\n}\n\nexport async function updateStateMileageService(\n  stateMileageId: string,\n  data: {\n    state?: string;\n    stateLineMileage?: number;\n  }\n) {\n  return await prisma.stateMileage.update({\n    where: { id: stateMileageId },\n    data: {\n      ...(data.state !== undefined && { state: data.state }),\n      ...(data.stateLineMileage !== undefined && {\n        stateLineMileage: data.stateLineMileage,\n      }),\n    },\n  });\n}\n\nexport async function updateRefuelLogService(\n  refuelLogId: string,\n  data: {\n    gallonsRefueled?: number;\n    milesAtFueling?: number;\n  }\n) {\n  return await prisma.refuelLog.update({\n    where: { id: refuelLogId },\n    data: {\n      ...(data.gallonsRefueled !== undefined && {\n        gallonsRefueled: data.gallonsRefueled,\n      }),\n      ...(data.milesAtFueling !== undefined && {\n        milesAtFueling: data.milesAtFueling,\n      }),\n    },\n  });\n}\n\nexport async function updateMaterialService(\n  materialId: string,\n  data: {\n    name?: string;\n    quantity?: number;\n    LocationOfMaterial?: string;\n    unit?: string;\n    loadType?: string | null;\n  }\n) {\n  const updateData: any = {};\n\n  // Only add fields that are actually provided (not undefined)\n  if (data.name !== undefined && data.name !== \"\") updateData.name = data.name;\n  if (data.quantity !== undefined) updateData.quantity = data.quantity;\n  if (data.LocationOfMaterial !== undefined && data.LocationOfMaterial !== \"\")\n    updateData.LocationOfMaterial = data.LocationOfMaterial;\n  if (data.unit !== undefined && data.unit !== \"\") updateData.unit = data.unit;\n  if (data.loadType !== undefined) updateData.loadType = data.loadType;\n\n  // Only update if there are changes\n  if (Object.keys(updateData).length === 0) {\n    return await prisma.material.findUnique({\n      where: { id: materialId },\n    });\n  }\n\n  return await prisma.material.update({\n    where: { id: materialId },\n    data: updateData,\n  });\n}\n\n// DELETE Services\nexport async function deleteStateMileageService(id: string) {\n  return await prisma.stateMileage.delete({\n    where: { id },\n  });\n}\n\nexport async function deleteRefuelLogService(id: string) {\n  return await prisma.refuelLog.delete({\n    where: { id },\n  });\n}\n\nexport async function deleteMaterialService(id: string) {\n  return await prisma.material.delete({\n    where: { id },\n  });\n}\n\n// CREATE Services (additional - for direct resource creation)\nexport async function createStateMileageService(\n  truckingLogId: string,\n  data?: { state?: string; stateLineMileage?: number }\n) {\n  return await prisma.stateMileage.create({\n    data: {\n      truckingLogId,\n      ...(data?.state && { state: data.state }),\n      ...(data?.stateLineMileage && {\n        stateLineMileage: data.stateLineMileage,\n      }),\n    },\n  });\n}\n\nexport async function createRefuelLogService(\n  truckingLogId: string,\n  data?: { gallonsRefueled?: number; milesAtFueling?: number }\n) {\n  return await prisma.refuelLog.create({\n    data: {\n      truckingLogId,\n      ...(data?.gallonsRefueled && { gallonsRefueled: data.gallonsRefueled }),\n      ...(data?.milesAtFueling && { milesAtFueling: data.milesAtFueling }),\n    },\n  });\n}\n\nexport async function createMaterialService(\n  truckingLogId: string,\n  data: {\n    name: string;\n    quantity: number;\n    LocationOfMaterial?: string;\n    unit?: string;\n    loadType?: string | null;\n  }\n) {\n  // Build create data dynamically to handle optional enum fields\n  const createData: any = {\n    truckingLogId,\n    name: data.name,\n    quantity: data.quantity,\n  };\n\n  if (data.LocationOfMaterial !== undefined)\n    createData.LocationOfMaterial = data.LocationOfMaterial;\n  if (data.unit !== undefined) createData.unit = data.unit;\n  if (data.loadType !== undefined) createData.loadType = data.loadType;\n\n  return await prisma.material.create({\n    data: createData,\n  });\n}\n\n// UPDATE Services for nested resources\nexport async function updateEquipmentHauledService(\n  equipmentHauledId: string,\n  data: {\n    equipmentId?: string;\n    source?: string | null;\n    destination?: string | null;\n    startMileage?: number | null;\n    endMileage?: number | null;\n  }\n) {\n  // Validate equipment exists if equipmentId is provided\n  if (data.equipmentId) {\n    const equipment = await prisma.equipment.findUnique({\n      where: { id: data.equipmentId },\n    });\n    if (!equipment) {\n      throw new Error(`Equipment with ID ${data.equipmentId} not found`);\n    }\n  }\n\n  const updateData: Prisma.EquipmentHauledUpdateInput = {};\n  if (data.equipmentId !== undefined)\n    updateData.Equipment = { connect: { id: data.equipmentId } };\n  if (data.source !== undefined) updateData.source = data.source;\n  if (data.destination !== undefined) updateData.destination = data.destination;\n  if (data.startMileage !== undefined)\n    updateData.startMileage = data.startMileage;\n  if (data.endMileage !== undefined) updateData.endMileage = data.endMileage;\n\n  return await prisma.equipmentHauled.update({\n    where: { id: equipmentHauledId },\n    data: updateData,\n    include: {\n      Equipment: {\n        select: {\n          id: true,\n          name: true,\n        },\n      },\n    },\n  });\n}\n"],"names":[],"mappings":"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","debug_id":"58aadad9-2ba1-5c78-970c-e75d955ee1db"}