{"version":3,"file":"truckingLogService.js","sources":["src/services/truckingLogService.ts"],"sourceRoot":"/","sourcesContent":["import type { Prisma } from \"../../generated/prisma/client.js\";\r\nimport prisma from \"../lib/prisma.js\";\r\n\r\nexport async function getTruckingLogService(userId: string) {\r\n  return await prisma.timeSheet.findFirst({\r\n    where: {\r\n      userId,\r\n      endTime: null, // Looking for active timesheets\r\n    },\r\n    orderBy: {\r\n      startTime: \"desc\", // Get the most recent one\r\n    },\r\n    select: {\r\n      id: true,\r\n      startTime: true,\r\n      TruckingLogs: {\r\n        orderBy: {\r\n          id: \"desc\", // Get the most recent trucking log\r\n        },\r\n        take: 1, // Only get the first (most recent) one\r\n        select: {\r\n          id: true,\r\n        },\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\n//\r\nexport async function getTruckStartingMileage(timeSheetId: string) {\r\n  return await prisma.truckingLog.findFirst({\r\n    where: {\r\n      id: timeSheetId,\r\n    },\r\n    select: {\r\n      startingMileage: true,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getTruckEndingMileage(timeSheetId: string) {\r\n  return await prisma.truckingLog.findFirst({\r\n    where: {\r\n      id: timeSheetId,\r\n    },\r\n    select: {\r\n      endingMileage: true,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getTruckNotes(timeSheetId: string) {\r\n  const notes = await prisma.truckingLog.findFirst({\r\n    where: {\r\n      id: timeSheetId,\r\n    },\r\n    select: {\r\n      TimeSheet: {\r\n        select: {\r\n          comment: true,\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\n  const comment = notes?.TimeSheet?.comment;\r\n  return comment || \"\";\r\n}\r\n\r\nexport async function getRefueledLogs(timeSheetId: string) {\r\n  return await prisma.refuelLog.findMany({\r\n    where: {\r\n      truckingLogId: timeSheetId,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getTruckMaterial(timeSheetId: string) {\r\n  return await prisma.material.findMany({\r\n    where: {\r\n      truckingLogId: timeSheetId,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getTruckEquipmentHauled(timeSheetId: string) {\r\n  return await prisma.equipmentHauled.findMany({\r\n    where: {\r\n      truckingLogId: timeSheetId, // timeSheetId is actually truckingLogId\r\n    },\r\n    include: {\r\n      Equipment: {\r\n        select: {\r\n          id: true,\r\n          name: true,\r\n        },\r\n      },\r\n    },\r\n  });\r\n}\r\nexport async function getStateMileage(timeSheetId: string) {\r\n  return await prisma.stateMileage.findMany({\r\n    where: {\r\n      truckingLogId: timeSheetId,\r\n    },\r\n  });\r\n}\r\n\r\n// Unified function to get all trucking log data at once\r\nexport async function getAllTruckingLogData(truckingLogId: string) {\r\n  return await prisma.truckingLog.findUnique({\r\n    where: {\r\n      id: truckingLogId,\r\n    },\r\n    include: {\r\n      TimeSheet: {\r\n        select: {\r\n          comment: true,\r\n        },\r\n      },\r\n      RefuelLogs: true,\r\n      Materials: true,\r\n      EquipmentHauled: {\r\n        include: {\r\n          Equipment: {\r\n            select: {\r\n              id: true,\r\n              name: true,\r\n            },\r\n          },\r\n        },\r\n      },\r\n      StateMileages: true,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function createEquipmentHauledService(truckingLogId: string) {\r\n  return await prisma.equipmentHauled.create({\r\n    data: {\r\n      TruckingLog: {\r\n        connect: { id: truckingLogId },\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\nexport async function createHaulingLogsService(\r\n  truckingLogId: string,\r\n  body: { name: string; quantity: number; createdAt: Date }\r\n) {\r\n  return await prisma.material.create({\r\n    data: {\r\n      truckingLogId,\r\n      name: body.name,\r\n      quantity: body.quantity,\r\n      createdAt: body.createdAt,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function editEquipmentHauledService(\r\n  id: string,\r\n  body: {\r\n    truckingLogId?: string;\r\n    source?: string | null;\r\n    destination?: string | null;\r\n    startMileage?: number | null;\r\n    endMileage?: number | null;\r\n  }\r\n) {\r\n  const updateData: Prisma.EquipmentHauledUpdateInput = {};\r\n\r\n  if (body.source !== undefined) updateData.source = body.source;\r\n  if (body.destination !== undefined) updateData.destination = body.destination;\r\n  if (body.startMileage !== undefined)\r\n    updateData.startMileage = body.startMileage;\r\n  if (body.endMileage !== undefined) updateData.endMileage = body.endMileage;\r\n\r\n  return await prisma.equipmentHauled.update({\r\n    where: { id },\r\n    data: updateData,\r\n  });\r\n}\r\n\r\nexport async function deleteEquipmentHauledService(id: string) {\r\n  try {\r\n    const result = await prisma.equipmentHauled.delete({\r\n      where: { id },\r\n    });\r\n    return result;\r\n  } catch (error) {\r\n    console.error(\"Error deleting EquipmentHauled:\", error);\r\n    throw error; // Re-throw so controller can handle it\r\n  }\r\n}\r\n\r\n// Update Services\r\nexport async function updateTruckingLogEndingMileageService(\r\n  id: string,\r\n  endingMileage: number\r\n) {\r\n  return await prisma.truckingLog.update({\r\n    where: { id },\r\n    data: { endingMileage },\r\n  });\r\n}\r\n\r\nexport async function updateTruckingLogStartingMileageService(\r\n  id: string,\r\n  startingMileage: number\r\n) {\r\n  return await prisma.truckingLog.update({\r\n    where: { id },\r\n    data: { startingMileage },\r\n  });\r\n}\r\n\r\nexport async function updateTruckingLogNotesService(id: string, notes: string) {\r\n  return await prisma.truckingLog.update({\r\n    where: { id },\r\n    data: {\r\n      TimeSheet: {\r\n        update: { comment: notes },\r\n      },\r\n    },\r\n    include: { TimeSheet: { select: { comment: true } } },\r\n  });\r\n}\r\n\r\nexport async function updateStateMileageService(\r\n  stateMileageId: string,\r\n  data: {\r\n    state?: string;\r\n    stateLineMileage?: number;\r\n  }\r\n) {\r\n  return await prisma.stateMileage.update({\r\n    where: { id: stateMileageId },\r\n    data: {\r\n      ...(data.state !== undefined && { state: data.state }),\r\n      ...(data.stateLineMileage !== undefined && {\r\n        stateLineMileage: data.stateLineMileage,\r\n      }),\r\n    },\r\n  });\r\n}\r\n\r\nexport async function updateRefuelLogService(\r\n  refuelLogId: string,\r\n  data: {\r\n    gallonsRefueled?: number;\r\n    milesAtFueling?: number;\r\n  }\r\n) {\r\n  return await prisma.refuelLog.update({\r\n    where: { id: refuelLogId },\r\n    data: {\r\n      ...(data.gallonsRefueled !== undefined && {\r\n        gallonsRefueled: data.gallonsRefueled,\r\n      }),\r\n      ...(data.milesAtFueling !== undefined && {\r\n        milesAtFueling: data.milesAtFueling,\r\n      }),\r\n    },\r\n  });\r\n}\r\n\r\nexport async function updateMaterialService(\r\n  materialId: string,\r\n  data: {\r\n    name?: string;\r\n    quantity?: number;\r\n    LocationOfMaterial?: string;\r\n    unit?: string;\r\n    loadType?: string | null;\r\n  }\r\n) {\r\n  const updateData: any = {};\r\n\r\n  // Only add fields that are actually provided (not undefined)\r\n  if (data.name !== undefined && data.name !== \"\") updateData.name = data.name;\r\n  if (data.quantity !== undefined) updateData.quantity = data.quantity;\r\n  if (data.LocationOfMaterial !== undefined && data.LocationOfMaterial !== \"\")\r\n    updateData.LocationOfMaterial = data.LocationOfMaterial;\r\n  if (data.unit !== undefined && data.unit !== \"\") updateData.unit = data.unit;\r\n  if (data.loadType !== undefined) updateData.loadType = data.loadType;\r\n\r\n  // Only update if there are changes\r\n  if (Object.keys(updateData).length === 0) {\r\n    return await prisma.material.findUnique({\r\n      where: { id: materialId },\r\n    });\r\n  }\r\n\r\n  return await prisma.material.update({\r\n    where: { id: materialId },\r\n    data: updateData,\r\n  });\r\n}\r\n\r\n// DELETE Services\r\nexport async function deleteStateMileageService(id: string) {\r\n  return await prisma.stateMileage.delete({\r\n    where: { id },\r\n  });\r\n}\r\n\r\nexport async function deleteRefuelLogService(id: string) {\r\n  return await prisma.refuelLog.delete({\r\n    where: { id },\r\n  });\r\n}\r\n\r\nexport async function deleteMaterialService(id: string) {\r\n  return await prisma.material.delete({\r\n    where: { id },\r\n  });\r\n}\r\n\r\n// CREATE Services (additional - for direct resource creation)\r\nexport async function createStateMileageService(\r\n  truckingLogId: string,\r\n  data?: { state?: string; stateLineMileage?: number }\r\n) {\r\n  return await prisma.stateMileage.create({\r\n    data: {\r\n      truckingLogId,\r\n      ...(data?.state && { state: data.state }),\r\n      ...(data?.stateLineMileage && {\r\n        stateLineMileage: data.stateLineMileage,\r\n      }),\r\n    },\r\n  });\r\n}\r\n\r\nexport async function createRefuelLogService(\r\n  truckingLogId: string,\r\n  data?: { gallonsRefueled?: number; milesAtFueling?: number }\r\n) {\r\n  return await prisma.refuelLog.create({\r\n    data: {\r\n      truckingLogId,\r\n      ...(data?.gallonsRefueled && { gallonsRefueled: data.gallonsRefueled }),\r\n      ...(data?.milesAtFueling && { milesAtFueling: data.milesAtFueling }),\r\n    },\r\n  });\r\n}\r\n\r\nexport async function createMaterialService(\r\n  truckingLogId: string,\r\n  data: {\r\n    name: string;\r\n    quantity: number;\r\n    LocationOfMaterial?: string;\r\n    unit?: string;\r\n    loadType?: string | null;\r\n  }\r\n) {\r\n  // Build create data dynamically to handle optional enum fields\r\n  const createData: any = {\r\n    truckingLogId,\r\n    name: data.name,\r\n    quantity: data.quantity,\r\n  };\r\n\r\n  if (data.LocationOfMaterial !== undefined)\r\n    createData.LocationOfMaterial = data.LocationOfMaterial;\r\n  if (data.unit !== undefined) createData.unit = data.unit;\r\n  if (data.loadType !== undefined) createData.loadType = data.loadType;\r\n\r\n  return await prisma.material.create({\r\n    data: createData,\r\n  });\r\n}\r\n\r\n// UPDATE Services for nested resources\r\nexport async function updateEquipmentHauledService(\r\n  equipmentHauledId: string,\r\n  data: {\r\n    equipmentId?: string;\r\n    source?: string | null;\r\n    destination?: string | null;\r\n    startMileage?: number | null;\r\n    endMileage?: number | null;\r\n  }\r\n) {\r\n  // Validate equipment exists if equipmentId is provided\r\n  if (data.equipmentId) {\r\n    const equipment = await prisma.equipment.findUnique({\r\n      where: { id: data.equipmentId },\r\n    });\r\n    if (!equipment) {\r\n      throw new Error(`Equipment with ID ${data.equipmentId} not found`);\r\n    }\r\n  }\r\n\r\n  const updateData: Prisma.EquipmentHauledUpdateInput = {};\r\n  if (data.equipmentId !== undefined)\r\n    updateData.Equipment = { connect: { id: data.equipmentId } };\r\n  if (data.source !== undefined) updateData.source = data.source;\r\n  if (data.destination !== undefined) updateData.destination = data.destination;\r\n  if (data.startMileage !== undefined)\r\n    updateData.startMileage = data.startMileage;\r\n  if (data.endMileage !== undefined) updateData.endMileage = data.endMileage;\r\n\r\n  return await prisma.equipmentHauled.update({\r\n    where: { id: equipmentHauledId },\r\n    data: updateData,\r\n    include: {\r\n      Equipment: {\r\n        select: {\r\n          id: true,\r\n          name: true,\r\n        },\r\n      },\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":"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","debug_id":"8316aba8-c022-527d-9aed-b8abeba359b5"}