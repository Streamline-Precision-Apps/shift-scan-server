{"version":3,"file":"adminTimesheetController.js","sources":["src/controllers/adminTimesheetController.ts"],"sourceRoot":"/","sourcesContent":["import type { Request, Response } from \"express\";\nimport {\n  getAllTimesheets,\n  getTimesheetById,\n  createTimesheet,\n  updateTimesheet,\n  updateTimesheetStatus,\n  deleteTimesheet,\n  exportTimesheets,\n  getTimesheetChangeLogs,\n  getAllTascoMaterialTypes,\n  resolveTimecardNotification,\n} from \"../services/adminTimesheetService.js\";\n\n/**\n * GET /api/v1/admins/timesheet\n * Get all timesheets with pagination, filtering, and search\n */\nexport async function getAllTimesheetsController(req: Request, res: Response) {\n  try {\n    // Status param for showPendingOnly behavior\n    // Extract the first 'status' param if it's a string (from showPendingOnly)\n    // If status is an array, use \"all\" as default for showPendingOnly\n    let statusParam = \"all\";\n    let statusFilters: string[] = [];\n    \n    if (req.query.status) {\n      if (Array.isArray(req.query.status)) {\n        // Multiple status values = filter selections\n        statusFilters = req.query.status as string[];\n      } else if (typeof req.query.status === \"string\") {\n        // Single status value could be either:\n        // 1. \"pending\" or \"all\" from showPendingOnly\n        // 2. A single filter selection like \"APPROVED\"\n        const statusValue = req.query.status.toLowerCase();\n        if (statusValue === \"pending\" || statusValue === \"all\") {\n          statusParam = statusValue;\n        } else {\n          // It's a filter selection\n          statusFilters = [req.query.status];\n        }\n      }\n    }\n    \n    const page = req.query.page ? parseInt(req.query.page as string, 10) : 1;\n    const pageSize = req.query.pageSize\n      ? parseInt(req.query.pageSize as string, 10)\n      : 25;\n    const search = typeof req.query.search === \"string\" ? req.query.search : \"\";\n\n    // Filter parameters (arrays)\n    const jobsiteId = req.query.jobsiteId\n      ? Array.isArray(req.query.jobsiteId)\n        ? req.query.jobsiteId\n        : [req.query.jobsiteId]\n      : [];\n    const costCode = req.query.costCode\n      ? Array.isArray(req.query.costCode)\n        ? req.query.costCode\n        : [req.query.costCode]\n      : [];\n    const equipmentId = req.query.equipmentId\n      ? Array.isArray(req.query.equipmentId)\n        ? req.query.equipmentId\n        : [req.query.equipmentId]\n      : [];\n    const equipmentLogTypes = req.query.equipmentLogTypes\n      ? Array.isArray(req.query.equipmentLogTypes)\n        ? req.query.equipmentLogTypes\n        : [req.query.equipmentLogTypes]\n      : [];\n    const changes = req.query.changes\n      ? Array.isArray(req.query.changes)\n        ? req.query.changes\n        : [req.query.changes]\n      : [];\n    const id = req.query.id\n      ? Array.isArray(req.query.id)\n        ? req.query.id\n        : [req.query.id]\n      : [];\n    const notificationId = req.query.notificationId\n      ? Array.isArray(req.query.notificationId)\n        ? req.query.notificationId\n        : [req.query.notificationId]\n      : [];\n\n    // Date range\n    const dateFrom = req.query.dateFrom\n      ? new Date(req.query.dateFrom as string)\n      : undefined;\n    const dateTo = req.query.dateTo\n      ? new Date(req.query.dateTo as string)\n      : undefined;\n\n    const skip = (page - 1) * pageSize;\n\n    const result = await getAllTimesheets({\n      status: statusParam,\n      page,\n      pageSize,\n      skip,\n      search,\n      filters: {\n        jobsiteId: jobsiteId as string[],\n        costCode: costCode as string[],\n        equipmentId: equipmentId as string[],\n        equipmentLogTypes: equipmentLogTypes as string[],\n        status: statusFilters as string[],\n        changes: changes as string[],\n        id: id as string[],\n        notificationId: notificationId as string[],\n        dateRange: {\n          from: dateFrom,\n          to: dateTo,\n        },\n      },\n    });\n\n    res.status(200).json(result);\n  } catch (error) {\n    console.error(\"Error fetching timesheets:\", error);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to fetch timesheets\",\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    });\n  }\n}\n\n/**\n * GET /api/v1/admins/timesheet/:id\n * Get a single timesheet by ID with all related data\n */\nexport async function getTimesheetByIdController(req: Request, res: Response) {\n  try {\n    const {id} = req.params;\n    if (!id) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid timesheet ID\",\n      });\n    }\n\n    const timesheet = await getTimesheetById(id);\n    if (!timesheet) {\n      return res.status(404).json({\n        success: false,\n        message: \"Timesheet not found\",\n      });\n    }\n\n    res.status(200).json(timesheet);\n  } catch (error) {\n    console.error(\"Error fetching timesheet:\", error);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to fetch timesheet\",\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    });\n  }\n}\n\n/**\n * GET /api/v1/admins/timesheet/:id/change-logs\n * Get change logs for a specific timesheet\n */\nexport async function getTimesheetChangeLogsController(\n  req: Request,\n  res: Response\n) {\n  try {\n    const {id} = req.params;\n    if (!id) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid timesheet ID\",\n      });\n    }\n\n    const changeLogs = await getTimesheetChangeLogs(id);\n    res.status(200).json(changeLogs);\n  } catch (error) {\n    console.error(\"Error fetching change logs:\", error);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to fetch change logs\",\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    });\n  }\n}\n\n/**\n * POST /api/v1/admins/timesheet\n * Create a new timesheet (admin creation)\n */\nexport async function createTimesheetController(req: Request, res: Response) {\n  try {\n    const payload = req.body;\n    const result = await createTimesheet(payload);\n    res.status(201).json({\n      success: true,\n      message: \"Timesheet created successfully\",\n      data: result,\n    });\n  } catch (error) {\n    console.error(\"Error creating timesheet:\", error);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to create timesheet\",\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    });\n  }\n}\n\n/**\n * POST /api/v1/admins/timesheet/export\n * Export timesheets to Excel\n */\nexport async function exportTimesheetsController(req: Request, res: Response) {\n  try {\n    const { timesheetIds = [], fields, dateRange, filters } = req.body;\n    \n    if (!Array.isArray(timesheetIds)) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid timesheet IDs format\",\n      });\n    }\n\n    // Parse date range if provided\n    let parsedDateRange: { from?: Date; to?: Date } | undefined;\n    if (dateRange) {\n      parsedDateRange = {};\n      if (dateRange.from) parsedDateRange.from = new Date(dateRange.from);\n      if (dateRange.to) parsedDateRange.to = new Date(dateRange.to);\n    }\n\n    const result = await exportTimesheets(\n      timesheetIds, \n      fields, \n      parsedDateRange,\n      filters\n    );\n    res.status(200).json(result);\n  } catch (error) {\n    console.error(\"Error exporting timesheets:\", error);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to export timesheets\",\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    });\n  }\n}\n\n/**\n * PUT /api/v1/admins/timesheet/:id\n * Update a timesheet (optimized update with change tracking)\n */\nexport async function updateTimesheetController(req: Request, res: Response) {\n  try {\n    const {id} = req.params;\n    if (!id) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid timesheet ID\",\n      });\n    }\n\n    const {\n      data,\n      originalData,\n      changes,\n      editorId,\n      changeReason,\n      wasStatusChanged,\n      numberOfChanges,\n    } = req.body;\n\n    const result = await updateTimesheet(id, {\n      data,\n      originalData,\n      changes,\n      editorId,\n      changeReason,\n      wasStatusChanged,\n      numberOfChanges,\n    });\n\n    res.status(200).json({\n      success: true,\n      message: \"Timesheet updated successfully\",\n      data: result,\n    });\n  } catch (error) {\n    console.error(\"Error updating timesheet:\", error);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to update timesheet\",\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    });\n  }\n}\n\n/**\n * PUT /api/v1/admins/timesheet/:id/status\n * Update timesheet status (approve/deny)\n */\nexport async function updateTimesheetStatusController(\n  req: Request,\n  res: Response\n) {\n  try {\n    const {id} = req.params;\n    if (!id) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid timesheet ID\",\n      });\n    }\n\n    const { status, changes } = req.body;\n    \n    if (!status || ![\"APPROVED\", \"REJECTED\", \"PENDING\"].includes(status)) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid status value\",\n      });\n    }\n\n    // Get authenticated user ID from JWT token\n    const userId = (req as any).user?.id;\n    if (!userId) {\n      return res.status(401).json({\n        success: false,\n        message: \"User not authenticated\",\n      });\n    }\n\n    await updateTimesheetStatus(id, status, changes || {}, userId);\n\n    res.status(200).json({\n      success: true,\n      message: `Timesheet ${status.toLowerCase()} successfully`,\n    });\n  } catch (error) {\n    console.error(\"Error updating timesheet status:\", error);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to update timesheet status\",\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    });\n  }\n}\n\n/**\n * DELETE /api/v1/admins/timesheet/:id\n * Delete a timesheet by ID\n */\nexport async function deleteTimesheetController(req: Request, res: Response) {\n  try {\n    const {id} = req.params;\n    if (!id) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid timesheet ID\",\n      });\n    }\n\n    await deleteTimesheet(id);\n\n    res.status(200).json({\n      success: true,\n      message: \"Timesheet deleted successfully\",\n    });\n  } catch (error) {\n    console.error(\"Error deleting timesheet:\", error);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to delete timesheet\",\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    });\n  }\n}\n\n/**\n * GET /api/v1/admins/tasco-material-types\n * Get all Tasco material types\n */\nexport async function getAllTascoMaterialTypesController(\n  req: Request,\n  res: Response\n) {\n  try {\n    const result = await getAllTascoMaterialTypes();\n    res.status(200).json(result);\n  } catch (error) {\n    console.error(\"Error fetching Tasco material types:\", error);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to fetch Tasco material types\",\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    });\n  }\n}\n\n/**\n * POST /api/v1/admins/timesheet/resolve-notification\n * Check timesheet status and resolve notification if already approved/rejected\n */\nexport async function resolveTimecardNotificationController(\n  req: Request,\n  res: Response\n) {\n  try {\n    const { timesheetId, notificationId } = req.body;\n    \n    if (!timesheetId || !notificationId) {\n      return res.status(400).json({\n        success: false,\n        message: \"Timesheet ID and notification ID are required\",\n      });\n    }\n\n    // Get authenticated user ID\n    const userId = (req as any).user?.id;\n    if (!userId) {\n      return res.status(401).json({\n        success: false,\n        message: \"User not authenticated\",\n      });\n    }\n\n    const result = await resolveTimecardNotification(\n      timesheetId,\n      parseInt(notificationId),\n      userId\n    );\n\n    res.status(200).json(result);\n  } catch (error) {\n    console.error(\"Error resolving timecard notification:\", error);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to resolve timecard notification\",\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    });\n  }\n}\n"],"names":[],"mappings":"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","debug_id":"9d743f90-9620-547f-8774-f98a0d0b493f"}