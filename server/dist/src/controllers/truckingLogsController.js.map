{"version":3,"file":"truckingLogsController.js","sources":["src/controllers/truckingLogsController.ts"],"sourceRoot":"/","sourcesContent":["import Express from \"express\";\nimport {\n  getTruckEndingMileage,\n  getTruckEquipmentHauled,\n  getTruckingLogService,\n  getTruckMaterial,\n  getTruckNotes,\n  getTruckStartingMileage,\n  getStateMileage,\n  getRefueledLogs,\n  getAllTruckingLogData,\n  createEquipmentHauledService,\n  createHaulingLogsService,\n  createStateMileageService,\n  createRefuelLogService,\n  createMaterialService,\n  deleteEquipmentHauledService,\n  deleteStateMileageService,\n  deleteRefuelLogService,\n  deleteMaterialService,\n  editEquipmentHauledService,\n  updateEquipmentHauledService,\n  updateTruckingLogEndingMileageService,\n  updateTruckingLogStartingMileageService,\n  updateTruckingLogNotesService,\n  updateStateMileageService,\n  updateRefuelLogService,\n  updateMaterialService,\n} from \"../services/truckingLogService.js\";\nimport prisma from \"../lib/prisma.js\";\n\nexport async function getTruckingLogsController(\n  req: Express.Request,\n  res: Express.Response\n) {\n  try {\n    const { userId } = req.params;\n    if (!userId) {\n      return res.status(400).json({ error: \"User ID is required.\" });\n    }\n    const status = await getTruckingLogService(userId);\n    if (!status) {\n      throw new Error(\"No trucking logs found for the given ID.\");\n    }\n    return res.json(status);\n  } catch (error) {\n    console.error(\"Error fetching trucking logs:\", error);\n    return res.status(500).json({ error: \"Internal server error.\" });\n  }\n}\n\nexport async function getTruckingLogsById(\n  req: Express.Request,\n  res: Express.Response\n) {\n  try {\n    const { id } = req.params;\n    const { field } = req.query as { field?: string };\n\n    if (!id) {\n      return res.status(400).json({ error: \"Trucking log ID is required.\" });\n    }\n\n    // Fetch all data first\n    const allData = await getAllTruckingLogData(id);\n    if (!allData) {\n      return res.status(204).send(); // No content found\n    }\n\n    // If a specific field is requested, refetch just that field\n    if (field) {\n      let fieldData;\n      switch (field) {\n        case \"startingMileage\":\n          fieldData = await getTruckStartingMileage(id);\n          return res.json({ ...allData, startingMileage: fieldData });\n        case \"endingMileage\":\n          fieldData = await getTruckEndingMileage(id);\n          return res.json({ ...allData, endingMileage: fieldData });\n        case \"stateMileage\":\n          fieldData = await getStateMileage(id);\n          return res.json({ ...allData, stateMileage: fieldData });\n        case \"notes\":\n          fieldData = await getTruckNotes(id);\n          return res.json({ ...allData, notes: fieldData });\n        case \"refuelLogs\":\n          fieldData = await getRefueledLogs(id);\n          return res.json({ ...allData, refuelLogs: fieldData });\n        case \"equipmentHauled\":\n          fieldData = await getTruckEquipmentHauled(id);\n          return res.json({ ...allData, equipmentHauled: fieldData });\n        case \"material\":\n          fieldData = await getTruckMaterial(id);\n          return res.json({ ...allData, material: fieldData });\n        default:\n          return res.json(allData);\n      }\n    } else {\n      return res.json(allData);\n    }\n  } catch (error) {\n    console.error(\"Error fetching trucking logs:\", error);\n    return res.status(500).json({ error: \"Internal server error.\" });\n  }\n}\n\nexport async function createTruckingLogsController(\n  req: Express.Request,\n  res: Express.Response\n) {\n  try {\n    const { id } = req.params;\n    const { field } = req.query as { field?: string };\n\n    if (!id) {\n      return res.status(400).json({ error: \"Trucking Log ID is required.\" });\n    }\n\n    // id is now the TruckingLog ID (not TimeSheet ID)\n    const truckingLogId = id;\n\n    // Verify the trucking log exists\n    const truckingLog = await prisma.truckingLog.findUnique({\n      where: { id: truckingLogId },\n    });\n\n    if (!truckingLog) {\n      return res\n        .status(404)\n        .json({ error: \"No TruckingLog found with this ID.\" });\n    }\n\n    let fieldData;\n    switch (field) {\n      case \"equipmentHauled\":\n        fieldData = await createEquipmentHauledService(truckingLogId);\n        return res.status(201).json({ equipmentHauled: fieldData });\n\n      case \"material\": {\n        const { name, quantity, LocationOfMaterial, unit, loadType } = req.body;\n        if (!name || quantity === undefined) {\n          return res.status(400).json({\n            error: \"Material name and quantity are required.\",\n          });\n        }\n        fieldData = await createMaterialService(truckingLogId, {\n          name,\n          quantity,\n          LocationOfMaterial,\n          unit,\n          loadType,\n        });\n        return res.status(201).json({ material: fieldData });\n      }\n\n      case \"stateMileage\": {\n        const { state, stateLineMileage } = req.body;\n        fieldData = await createStateMileageService(truckingLogId, {\n          state,\n          stateLineMileage,\n        });\n        return res.status(201).json({ stateMileage: fieldData });\n      }\n\n      case \"refuelLogs\": {\n        const { gallonsRefueled, milesAtFueling } = req.body;\n        fieldData = await createRefuelLogService(truckingLogId, {\n          gallonsRefueled,\n          milesAtFueling,\n        });\n        return res.status(201).json({ refuelLogs: fieldData });\n      }\n\n      case \"haulingLogs\": {\n        const { name, quantity, createdAt } = req.body;\n        if (!name || quantity === undefined) {\n          return res\n            .status(400)\n            .json({ error: \"Hauling logs name and quantity are required.\" });\n        }\n        fieldData = await createHaulingLogsService(truckingLogId, {\n          name,\n          quantity,\n          createdAt,\n        });\n        return res.status(201).json({ haulingLogs: fieldData });\n      }\n\n      default:\n        return res.status(400).json({\n          error:\n            \"Invalid field parameter. Allowed: equipmentHauled, material, stateMileage, refuelLogs, haulingLogs\",\n        });\n    }\n  } catch (error) {\n    console.error(\"Error creating trucking logs:\", error);\n    return res.status(500).json({ error: \"Internal server error.\" });\n  }\n}\n\nexport async function updateTruckingLogsController(\n  req: Express.Request,\n  res: Express.Response\n) {\n  try {\n    const { id } = req.params;\n    const { field } = req.query as { field?: string };\n\n    if (!id) {\n      return res.status(400).json({ error: \"Trucking Log ID is required.\" });\n    }\n\n    if (!field) {\n      return res.status(400).json({ error: \"Field parameter is required.\" });\n    }\n\n    let result;\n\n    switch (field) {\n      case \"endingMileage\": {\n        const { endingMileage } = req.body;\n        if (endingMileage === undefined) {\n          return res\n            .status(400)\n            .json({ error: \"endingMileage value is required.\" });\n        }\n        result = await updateTruckingLogEndingMileageService(id, endingMileage);\n        return res.json(result);\n      }\n\n      case \"startingMileage\": {\n        const { startingMileage } = req.body;\n        if (startingMileage === undefined) {\n          return res\n            .status(400)\n            .json({ error: \"startingMileage value is required.\" });\n        }\n        result = await updateTruckingLogStartingMileageService(\n          id,\n          startingMileage\n        );\n        return res.json(result);\n      }\n\n      case \"notes\": {\n        const { notes } = req.body;\n        if (notes === undefined) {\n          return res.status(400).json({ error: \"notes value is required.\" });\n        }\n        result = await updateTruckingLogNotesService(id, notes);\n        return res.json(result);\n      }\n\n      case \"equipmentHauled\": {\n        const {\n          equipmentHauledId,\n          equipmentId,\n          source,\n          destination,\n          startMileage,\n          endMileage,\n        } = req.body;\n        if (!equipmentHauledId) {\n          return res\n            .status(400)\n            .json({ error: \"equipmentHauledId is required.\" });\n        }\n        result = await updateEquipmentHauledService(equipmentHauledId, {\n          equipmentId,\n          source,\n          destination,\n          startMileage,\n          endMileage,\n        });\n        return res.json(result);\n      }\n\n      case \"stateMileage\": {\n        const { stateMileageId, state, stateLineMileage } = req.body;\n        if (!stateMileageId) {\n          return res.status(400).json({ error: \"stateMileageId is required.\" });\n        }\n        result = await updateStateMileageService(stateMileageId, {\n          state,\n          stateLineMileage,\n        });\n        return res.json(result);\n      }\n\n      case \"refuelLogs\": {\n        const { refuelLogId, gallonsRefueled, milesAtFueling } = req.body;\n        if (!refuelLogId) {\n          return res.status(400).json({ error: \"refuelLogId is required.\" });\n        }\n        result = await updateRefuelLogService(refuelLogId, {\n          gallonsRefueled,\n          milesAtFueling,\n        });\n        return res.json(result);\n      }\n\n      case \"material\": {\n        const {\n          materialId,\n          name,\n          quantity,\n          LocationOfMaterial,\n          unit,\n          loadType,\n        } = req.body;\n        if (!materialId) {\n          return res.status(400).json({ error: \"materialId is required.\" });\n        }\n        result = await updateMaterialService(materialId, {\n          name,\n          quantity,\n          LocationOfMaterial,\n          unit,\n          loadType,\n        });\n        return res.json(result);\n      }\n\n      default:\n        return res.status(400).json({\n          error:\n            \"Invalid field parameter. Allowed: endingMileage, startingMileage, notes, equipmentHauled, stateMileage, refuelLogs, material\",\n        });\n    }\n  } catch (error) {\n    console.error(\"Error updating trucking log:\", error);\n    return res.status(500).json({ error: \"Internal server error.\" });\n  }\n}\n\nexport async function deleteTruckingLogController(\n  req: Express.Request,\n  res: Express.Response\n) {\n  try {\n    const { id } = req.params;\n    const { field } = req.query as { field?: string };\n    const { resourceId } = req.body;\n\n    if (!id || !resourceId) {\n      return res\n        .status(400)\n        .json({ error: \"Trucking Log ID and resourceId are required.\" });\n    }\n\n    if (!field) {\n      return res.status(400).json({ error: \"Field parameter is required.\" });\n    }\n\n    switch (field) {\n      case \"equipmentHauled\":\n        await deleteEquipmentHauledService(resourceId);\n        return res.status(204).send();\n\n      case \"material\":\n        await deleteMaterialService(resourceId);\n        return res.status(204).send();\n\n      case \"stateMileage\":\n        await deleteStateMileageService(resourceId);\n        return res.status(204).send();\n\n      case \"refuelLogs\":\n        await deleteRefuelLogService(resourceId);\n        return res.status(204).send();\n\n      default:\n        return res.status(400).json({\n          error:\n            \"Invalid field parameter. Allowed: equipmentHauled, material, stateMileage, refuelLogs\",\n        });\n    }\n  } catch (error) {\n    console.error(\"Error deleting trucking log:\", error);\n    return res.status(500).json({ error: \"Internal server error.\" });\n  }\n}\n"],"names":[],"mappings":"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","debug_id":"b9c863fa-5f6e-5029-bfb9-8b9947045a43"}