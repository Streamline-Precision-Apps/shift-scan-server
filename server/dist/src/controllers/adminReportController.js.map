{"version":3,"file":"adminReportController.js","sources":["src/controllers/adminReportController.ts"],"sourceRoot":"/","sourcesContent":["import type { Request, Response } from \"express\";\nimport {\n  getTascoReport as getTascoReportService,\n  getTruckingReport as getTruckingReportService,\n  getMechanicReport as getMechanicReportService,\n  getTascoFilterOptions as getTascoFilterOptionsService,\n} from \"../services/adminsReportService.js\";\n\nexport async function getTascoReport(req: Request, res: Response) {\n  try {\n    // Parse query parameters\n    const filters: {\n      jobsiteIds?: string[];\n      shiftTypes?: string[];\n      employeeIds?: string[];\n      laborTypes?: string[];\n      equipmentIds?: string[];\n      materialTypes?: string[];\n    } = {};\n\n    if (req.query.jobsiteIds) {\n      filters.jobsiteIds = (req.query.jobsiteIds as string).split(\",\");\n    }\n    if (req.query.shiftTypes) {\n      filters.shiftTypes = (req.query.shiftTypes as string).split(\",\");\n    }\n    if (req.query.employeeIds) {\n      filters.employeeIds = (req.query.employeeIds as string).split(\",\");\n    }\n    if (req.query.laborTypes) {\n      filters.laborTypes = (req.query.laborTypes as string).split(\",\");\n    }\n    if (req.query.equipmentIds) {\n      filters.equipmentIds = (req.query.equipmentIds as string).split(\",\");\n    }\n    if (req.query.materialTypes) {\n      filters.materialTypes = (req.query.materialTypes as string).split(\",\");\n    }\n\n    const data = await getTascoReportService(filters);\n    res.json({ success: true, data });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: \"Failed to fetch Tasco report\",\n      error: error instanceof Error ? error.message : error,\n    });\n  }\n}\n\nexport async function getTruckingReport(req: Request, res: Response) {\n  try {\n    const data = await getTruckingReportService();\n    res.json({ success: true, data });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: \"Failed to fetch Trucking report\",\n      error: error instanceof Error ? error.message : error,\n    });\n  }\n}\n\nexport async function getMechanicReport(req: Request, res: Response) {\n  try {\n    const data = await getMechanicReportService();\n    res.json({ success: true, data });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: \"Failed to fetch Mechanic report\",\n      error: error instanceof Error ? error.message : error,\n    });\n  }\n}\n\nexport async function getTascoFilterOptions(req: Request, res: Response) {\n  try {\n    const data = await getTascoFilterOptionsService();\n    res.json(data);\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: \"Failed to fetch Tasco filter options\",\n      error: error instanceof Error ? error.message : error,\n    });\n  }\n}\n"],"names":[],"mappings":"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","debug_id":"e963e0aa-3be9-5cf6-9359-5d3262c01d4e"}