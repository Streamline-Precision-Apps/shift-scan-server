{"version":3,"file":"formsController.js","sources":["src/controllers/formsController.ts"],"sourceRoot":"/","sourcesContent":["import {\r\n  ServiceManagerFormApprovals,\r\n  ServiceFormSubmissions,\r\n  ServiceTeamSubmissions,\r\n  ServiceFormDraft,\r\n  ServiceForm,\r\n  ServiceGetFormSubmissions,\r\n} from \"../services/formsService.js\";\r\n\r\n// Controller for forms endpoints\r\nimport express from \"express\";\r\nimport {\r\n  ServiceCreateFormApproval,\r\n  ServiceCreateFormSubmission,\r\n  ServiceDeleteFormSubmission,\r\n  ServiceGetForms,\r\n  ServiceGetUserSubmissions,\r\n  ServiceSaveDraft,\r\n  ServiceSaveDraftToPending,\r\n  ServiceSavePending,\r\n  ServiceUpdateFormApproval,\r\n  updateFormSubmissionService,\r\n} from \"../services/formsService.js\";\r\n\r\nimport { ServiceGetEmployeeRequests } from \"../services/formsService.js\";\r\n// Fetch employee requests for a manager (with filter, skip, take)\r\n\r\nexport const getUserSubmissions = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const filter = req.params.filter as string;\r\n    const userId = req.query.userId as string | null;\r\n    const skip = parseInt((req.query.skip as string) || \"0\");\r\n    const take = parseInt((req.query.take as string) || \"10\");\r\n    const startDateParam = req.query.startDate as string | null;\r\n    const endDateParam = req.query.endDate as string | null;\r\n    const weekFilter = req.query.week === \"true\";\r\n\r\n    if (!userId) {\r\n      return res.status(401).json({ error: \"Unauthorized User\" });\r\n    }\r\n\r\n    // Process date filters\r\n    let startDate: Date | null = null;\r\n    let endDate: Date | null = null;\r\n    if (startDateParam) startDate = new Date(startDateParam);\r\n    if (endDateParam) endDate = new Date(endDateParam);\r\n    if (weekFilter) {\r\n      const today = new Date();\r\n      const firstDay = new Date(today);\r\n      firstDay.setDate(today.getDate() - today.getDay());\r\n      firstDay.setHours(0, 0, 0, 0);\r\n      const lastDay = new Date(today);\r\n      lastDay.setDate(today.getDate() + (6 - today.getDay()));\r\n      lastDay.setHours(23, 59, 59, 999);\r\n      startDate = firstDay;\r\n      endDate = lastDay;\r\n    }\r\n\r\n    const submissions = await ServiceGetUserSubmissions({\r\n      userId,\r\n      filter,\r\n      startDate,\r\n      endDate,\r\n      skip,\r\n      take,\r\n    });\r\n    return res.status(200).json(submissions);\r\n  } catch (error) {\r\n    console.error(\"Error fetching user submissions:\", error);\r\n    return res.status(500).json({ error: \"Error fetching user submissions\" });\r\n  }\r\n};\r\n\r\nexport const getEmployeeRequests = async (req: any, res: express.Response) => {\r\n  try {\r\n    // userId and permission should be set by verifyToken middleware\r\n    const userId = req.user?.id;\r\n    const permission = req.user?.permission;\r\n\r\n    if (!userId) {\r\n      return res.status(401).json({ error: \"Unauthorized User\" });\r\n    }\r\n    if (permission === \"USER\") {\r\n      return res.status(401).json({ error: \"Unauthorized User Permission\" });\r\n    }\r\n\r\n    const filter = req.params.filter as string;\r\n    const skip = parseInt((req.query.skip as string) || \"0\");\r\n    const take = parseInt((req.query.take as string) || \"10\");\r\n\r\n    const requests = await ServiceGetEmployeeRequests({\r\n      filter,\r\n      skip,\r\n      take,\r\n      managerId: userId,\r\n    });\r\n    return res.status(200).json(requests);\r\n  } catch (error) {\r\n    console.error(\"Error fetching employee requests:\", error);\r\n    return res.status(500).json({ error: \"Error fetching employee requests\" });\r\n  }\r\n};\r\n\r\nexport const getForms = async (req: express.Request, res: express.Response) => {\r\n  try {\r\n    // Logic to get forms (this is a placeholder, replace with actual logic)\r\n    const forms = await ServiceGetForms();\r\n    res.status(200).json(forms);\r\n  } catch (error) {\r\n    const message =\r\n      error instanceof Error && error.message\r\n        ? error.message\r\n        : \"Failed to retrieve forms\";\r\n    res.status(400).json({ message });\r\n  }\r\n};\r\n\r\nexport const updateFormSubmission = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const body = req.body;\r\n    const submission = await updateFormSubmissionService(body);\r\n    res.status(201).json(submission);\r\n  } catch (error) {\r\n    const message =\r\n      error instanceof Error && error.message\r\n        ? error.message\r\n        : \"Failed to create form submission\";\r\n    res.status(400).json({ message });\r\n  }\r\n};\r\n\r\nexport const getFormsSubmissions = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    // Logic to get form submissions (this is a placeholder, replace with actual logic)\r\n    const submissions = await ServiceGetFormSubmissions();\r\n    res.status(200).json(submissions);\r\n  } catch (error) {\r\n    const message =\r\n      error instanceof Error && error.message\r\n        ? error.message\r\n        : \"Failed to retrieve form submissions\";\r\n    res.status(400).json({ message });\r\n  }\r\n};\r\n\r\nexport const createFormSubmission = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const { formTemplateId, userId } = req.body;\r\n    const submission = await ServiceCreateFormSubmission({\r\n      formTemplateId,\r\n      userId,\r\n    });\r\n    res.status(201).json(submission);\r\n  } catch (error) {\r\n    const message =\r\n      error instanceof Error && error.message\r\n        ? error.message\r\n        : \"Failed to create form submission\";\r\n    res.status(400).json({ message });\r\n  }\r\n};\r\n\r\nexport const deleteFormSubmission = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const id = Number(req.params.id);\r\n    await ServiceDeleteFormSubmission(id);\r\n    res.status(200).json({ success: true });\r\n  } catch (error) {\r\n    const message =\r\n      error instanceof Error && error.message\r\n        ? error.message\r\n        : \"Failed to delete form submission\";\r\n    res.status(400).json({ message });\r\n  }\r\n};\r\n\r\nexport const saveDraft = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const { formData, formTemplateId, userId, formType, submissionId, title } =\r\n      req.body;\r\n    const result = await ServiceSaveDraft({\r\n      formData,\r\n      formTemplateId,\r\n      userId,\r\n      formType,\r\n      submissionId,\r\n      title,\r\n    });\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    const message =\r\n      error instanceof Error && error.message\r\n        ? error.message\r\n        : \"Failed to save draft\";\r\n    res.status(400).json({ message });\r\n  }\r\n};\r\n\r\nexport const saveDraftToPending = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const {\r\n      formData,\r\n      isApprovalRequired,\r\n      formTemplateId,\r\n      userId,\r\n      formType,\r\n      submissionId,\r\n      title,\r\n    } = req.body;\r\n    const result = await ServiceSaveDraftToPending({\r\n      formData,\r\n      isApprovalRequired,\r\n      formTemplateId,\r\n      userId,\r\n      formType,\r\n      submissionId,\r\n      title,\r\n    });\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    const message =\r\n      error instanceof Error && error.message\r\n        ? error.message\r\n        : \"Failed to save draft to pending\";\r\n    res.status(400).json({ message });\r\n  }\r\n};\r\n\r\nexport const savePending = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const { formData, formTemplateId, userId, formType, submissionId, title } =\r\n      req.body;\r\n    const result = await ServiceSavePending({\r\n      formData,\r\n      formTemplateId,\r\n      userId,\r\n      formType,\r\n      submissionId,\r\n      title,\r\n    });\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    const message =\r\n      error instanceof Error && error.message\r\n        ? error.message\r\n        : \"Failed to save pending submission\";\r\n    res.status(400).json({ message });\r\n  }\r\n};\r\n\r\nexport const createFormApproval = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const { formSubmissionId, signedBy, signature, comment, approval } =\r\n      req.body;\r\n    console.log(\"Creating approval with signedBy:\", req.body);\r\n    const result = await ServiceCreateFormApproval({\r\n      formSubmissionId,\r\n      signedBy,\r\n      signature,\r\n      comment,\r\n      approval,\r\n    });\r\n    res.status(201).json(result);\r\n  } catch (error) {\r\n    const message =\r\n      error instanceof Error && error.message\r\n        ? error.message\r\n        : \"Failed to create form approval\";\r\n    res.status(400).json({ message });\r\n  }\r\n};\r\n\r\nexport const updateFormApproval = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const { id, formSubmissionId, comment, managerId, isApproved } = req.body;\r\n    const result = await ServiceUpdateFormApproval({\r\n      id,\r\n      formSubmissionId,\r\n      comment,\r\n      managerId,\r\n      isApproved,\r\n    });\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    const message =\r\n      error instanceof Error && error.message\r\n        ? error.message\r\n        : \"Failed to update form approval\";\r\n    res.status(400).json({ message });\r\n  }\r\n};\r\n// GET /api/v1/forms/formDraft/:id\r\nexport const getFormDraft = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const user = (req as any).user;\r\n    const userId = typeof user?.id === \"string\" ? user.id : undefined;\r\n    if (!userId) return res.status(401).json({ error: \"Unauthorized\" });\r\n    const id = req.params.id as string;\r\n    if (!id) return res.status(400).json({ error: \"Missing id param\" });\r\n    const draft = await ServiceFormDraft(id, userId);\r\n    if (!draft) return res.status(404).json({ error: \"Draft not found\" });\r\n    res.status(200).json(draft);\r\n  } catch (error) {\r\n    res.status(500).json({ error: \"Failed to fetch form draft\" });\r\n  }\r\n};\r\n\r\n// GET /api/v1/forms/teamSubmission/:id\r\nexport const getTeamSubmission = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const id = req.params.id as string;\r\n    if (!id) return res.status(400).json({ error: \"Missing id param\" });\r\n    const teamSubmission = await ServiceTeamSubmissions(id);\r\n    if (!teamSubmission)\r\n      return res.status(404).json({ error: \"Team submission not found\" });\r\n    res.status(200).json(teamSubmission);\r\n  } catch (error) {\r\n    res.status(500).json({ error: \"Failed to fetch team submission\" });\r\n  }\r\n};\r\n\r\n// GET /api/v1/forms/formSubmission/:id\r\nexport const getFormSubmission = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const id = req.params.id as string;\r\n    if (!id) return res.status(400).json({ error: \"Missing id param\" });\r\n    const submission = await ServiceFormSubmissions(id);\r\n    if (!submission)\r\n      return res.status(404).json({ error: \"Form submission not found\" });\r\n    res.status(200).json(submission);\r\n  } catch (error) {\r\n    res.status(500).json({ error: \"Failed to fetch form submission\" });\r\n  }\r\n};\r\n\r\n// GET /api/v1/forms/managerFormApproval/:id\r\nexport const getManagerFormApproval = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const id = req.params.id as string;\r\n    if (!id) return res.status(400).json({ error: \"Missing id param\" });\r\n    const approval = await ServiceManagerFormApprovals(id);\r\n    if (!approval)\r\n      return res.status(404).json({ error: \"Manager form approval not found\" });\r\n    res.status(200).json(approval);\r\n  } catch (error) {\r\n    res.status(500).json({ error: \"Failed to fetch manager form approval\" });\r\n  }\r\n};\r\n\r\n// GET /api/v1/forms/form/:id\r\nexport const getFormTemplate = async (\r\n  req: express.Request,\r\n  res: express.Response\r\n) => {\r\n  try {\r\n    const user = (req as any).user;\r\n    const userId = typeof user?.id === \"string\" ? user.id : undefined;\r\n    if (!userId) return res.status(401).json({ error: \"Unauthorized\" });\r\n    const id = req.params.id as string;\r\n    if (!id) return res.status(400).json({ error: \"Missing id param\" });\r\n    const template = await ServiceForm(id, userId);\r\n    if (!template)\r\n      return res.status(404).json({ error: \"Form template not found\" });\r\n    res.status(200).json(template);\r\n  } catch (error) {\r\n    res.status(500).json({ error: \"Failed to fetch form template\" });\r\n  }\r\n};\r\n"],"names":[],"mappings":"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","debug_id":"50beb883-852a-556f-a80f-6ffd724cd710"}