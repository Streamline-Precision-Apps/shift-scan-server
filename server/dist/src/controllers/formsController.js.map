{"version":3,"file":"formsController.js","sources":["src/controllers/formsController.ts"],"sourceRoot":"/","sourcesContent":["import {\n  ServiceManagerFormApprovals,\n  ServiceFormSubmissions,\n  ServiceTeamSubmissions,\n  ServiceFormDraft,\n  ServiceForm,\n} from \"../services/formsService.js\";\n\n// Controller for forms endpoints\nimport express from \"express\";\nimport {\n  ServiceCreateFormApproval,\n  ServiceCreateFormSubmission,\n  ServiceDeleteFormSubmission,\n  ServiceGetForms,\n  ServiceGetUserSubmissions,\n  ServiceSaveDraft,\n  ServiceSaveDraftToPending,\n  ServiceSavePending,\n  ServiceUpdateFormApproval,\n} from \"../services/formsService.js\";\n\nimport { ServiceGetEmployeeRequests } from \"../services/formsService.js\";\n// Fetch employee requests for a manager (with filter, skip, take)\n\nexport const getUserSubmissions = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const filter = req.params.filter as string;\n    const userId = req.query.userId as string | null;\n    const skip = parseInt((req.query.skip as string) || \"0\");\n    const take = parseInt((req.query.take as string) || \"10\");\n    const startDateParam = req.query.startDate as string | null;\n    const endDateParam = req.query.endDate as string | null;\n    const weekFilter = req.query.week === \"true\";\n\n    if (!userId) {\n      return res.status(401).json({ error: \"Unauthorized User\" });\n    }\n\n    // Process date filters\n    let startDate: Date | null = null;\n    let endDate: Date | null = null;\n    if (startDateParam) startDate = new Date(startDateParam);\n    if (endDateParam) endDate = new Date(endDateParam);\n    if (weekFilter) {\n      const today = new Date();\n      const firstDay = new Date(today);\n      firstDay.setDate(today.getDate() - today.getDay());\n      firstDay.setHours(0, 0, 0, 0);\n      const lastDay = new Date(today);\n      lastDay.setDate(today.getDate() + (6 - today.getDay()));\n      lastDay.setHours(23, 59, 59, 999);\n      startDate = firstDay;\n      endDate = lastDay;\n    }\n\n    const submissions = await ServiceGetUserSubmissions({\n      userId,\n      filter,\n      startDate,\n      endDate,\n      skip,\n      take,\n    });\n    return res.status(200).json(submissions);\n  } catch (error) {\n    console.error(\"Error fetching user submissions:\", error);\n    return res.status(500).json({ error: \"Error fetching user submissions\" });\n  }\n};\n\nexport const getEmployeeRequests = async (req: any, res: express.Response) => {\n  try {\n    // userId and permission should be set by verifyToken middleware\n    const userId = req.user?.id;\n    const permission = req.user?.permission;\n\n    if (!userId) {\n      return res.status(401).json({ error: \"Unauthorized User\" });\n    }\n    if (permission === \"USER\") {\n      return res.status(401).json({ error: \"Unauthorized User Permission\" });\n    }\n\n    const filter = req.query.filter as string;\n    const skip = parseInt((req.query.skip as string) || \"0\");\n    const take = parseInt((req.query.take as string) || \"10\");\n\n    const requests = await ServiceGetEmployeeRequests({\n      filter,\n      skip,\n      take,\n      managerId: userId,\n    });\n    return res.status(200).json(requests);\n  } catch (error) {\n    console.error(\"Error fetching employee requests:\", error);\n    return res.status(500).json({ error: \"Error fetching employee requests\" });\n  }\n};\n\nexport const getForms = async (req: express.Request, res: express.Response) => {\n  try {\n    // Logic to get forms (this is a placeholder, replace with actual logic)\n    const forms = await ServiceGetForms();\n    res.status(200).json(forms);\n  } catch (error) {\n    const message =\n      error instanceof Error && error.message\n        ? error.message\n        : \"Failed to retrieve forms\";\n    res.status(400).json({ message });\n  }\n};\n\nexport const createFormSubmission = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const { formTemplateId, userId } = req.body;\n    const submission = await ServiceCreateFormSubmission({\n      formTemplateId,\n      userId,\n    });\n    res.status(201).json(submission);\n  } catch (error) {\n    const message =\n      error instanceof Error && error.message\n        ? error.message\n        : \"Failed to create form submission\";\n    res.status(400).json({ message });\n  }\n};\n\nexport const deleteFormSubmission = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const id = Number(req.params.id);\n    await ServiceDeleteFormSubmission(id);\n    res.status(200).json({ success: true });\n  } catch (error) {\n    const message =\n      error instanceof Error && error.message\n        ? error.message\n        : \"Failed to delete form submission\";\n    res.status(400).json({ message });\n  }\n};\n\nexport const saveDraft = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const { formData, formTemplateId, userId, formType, submissionId, title } =\n      req.body;\n    const result = await ServiceSaveDraft({\n      formData,\n      formTemplateId,\n      userId,\n      formType,\n      submissionId,\n      title,\n    });\n    res.status(200).json(result);\n  } catch (error) {\n    const message =\n      error instanceof Error && error.message\n        ? error.message\n        : \"Failed to save draft\";\n    res.status(400).json({ message });\n  }\n};\n\nexport const saveDraftToPending = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const {\n      formData,\n      isApprovalRequired,\n      formTemplateId,\n      userId,\n      formType,\n      submissionId,\n      title,\n    } = req.body;\n    const result = await ServiceSaveDraftToPending({\n      formData,\n      isApprovalRequired,\n      formTemplateId,\n      userId,\n      formType,\n      submissionId,\n      title,\n    });\n    res.status(200).json(result);\n  } catch (error) {\n    const message =\n      error instanceof Error && error.message\n        ? error.message\n        : \"Failed to save draft to pending\";\n    res.status(400).json({ message });\n  }\n};\n\nexport const savePending = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const { formData, formTemplateId, userId, formType, submissionId, title } =\n      req.body;\n    const result = await ServiceSavePending({\n      formData,\n      formTemplateId,\n      userId,\n      formType,\n      submissionId,\n      title,\n    });\n    res.status(200).json(result);\n  } catch (error) {\n    const message =\n      error instanceof Error && error.message\n        ? error.message\n        : \"Failed to save pending submission\";\n    res.status(400).json({ message });\n  }\n};\n\nexport const createFormApproval = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const { formSubmissionId, signedBy, signature, comment, approval } =\n      req.body;\n    const result = await ServiceCreateFormApproval({\n      formSubmissionId,\n      signedBy,\n      signature,\n      comment,\n      approval,\n    });\n    res.status(201).json(result);\n  } catch (error) {\n    const message =\n      error instanceof Error && error.message\n        ? error.message\n        : \"Failed to create form approval\";\n    res.status(400).json({ message });\n  }\n};\n\nexport const updateFormApproval = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const { id, formSubmissionId, comment, isApproved } = req.body;\n    const result = await ServiceUpdateFormApproval({\n      id,\n      formSubmissionId,\n      comment,\n      isApproved,\n    });\n    res.status(200).json(result);\n  } catch (error) {\n    const message =\n      error instanceof Error && error.message\n        ? error.message\n        : \"Failed to update form approval\";\n    res.status(400).json({ message });\n  }\n};\n// GET /api/v1/forms/formDraft/:id\nexport const getFormDraft = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const user = (req as any).user;\n    const userId = typeof user?.id === \"string\" ? user.id : undefined;\n    if (!userId) return res.status(401).json({ error: \"Unauthorized\" });\n    const id = req.params.id as string;\n    if (!id) return res.status(400).json({ error: \"Missing id param\" });\n    const draft = await ServiceFormDraft(id, userId);\n    if (!draft) return res.status(404).json({ error: \"Draft not found\" });\n    res.status(200).json(draft);\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to fetch form draft\" });\n  }\n};\n\n// GET /api/v1/forms/teamSubmission/:id\nexport const getTeamSubmission = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const id = req.params.id as string;\n    if (!id) return res.status(400).json({ error: \"Missing id param\" });\n    const teamSubmission = await ServiceTeamSubmissions(id);\n    if (!teamSubmission)\n      return res.status(404).json({ error: \"Team submission not found\" });\n    res.status(200).json(teamSubmission);\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to fetch team submission\" });\n  }\n};\n\n// GET /api/v1/forms/formSubmission/:id\nexport const getFormSubmission = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const id = req.params.id as string;\n    if (!id) return res.status(400).json({ error: \"Missing id param\" });\n    const submission = await ServiceFormSubmissions(id);\n    if (!submission)\n      return res.status(404).json({ error: \"Form submission not found\" });\n    res.status(200).json(submission);\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to fetch form submission\" });\n  }\n};\n\n// GET /api/v1/forms/managerFormApproval/:id\nexport const getManagerFormApproval = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const id = req.params.id as string;\n    if (!id) return res.status(400).json({ error: \"Missing id param\" });\n    const approval = await ServiceManagerFormApprovals(id);\n    if (!approval)\n      return res.status(404).json({ error: \"Manager form approval not found\" });\n    res.status(200).json(approval);\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to fetch manager form approval\" });\n  }\n};\n\n// GET /api/v1/forms/form/:id\nexport const getFormTemplate = async (\n  req: express.Request,\n  res: express.Response\n) => {\n  try {\n    const user = (req as any).user;\n    const userId = typeof user?.id === \"string\" ? user.id : undefined;\n    if (!userId) return res.status(401).json({ error: \"Unauthorized\" });\n    const id = req.params.id as string;\n    if (!id) return res.status(400).json({ error: \"Missing id param\" });\n    const template = await ServiceForm(id, userId);\n    if (!template)\n      return res.status(404).json({ error: \"Form template not found\" });\n    res.status(200).json(template);\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to fetch form template\" });\n  }\n};\n"],"names":[],"mappings":"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","debug_id":"8d7caf6b-f8d0-53bb-bdfa-cc23543f0e89"}